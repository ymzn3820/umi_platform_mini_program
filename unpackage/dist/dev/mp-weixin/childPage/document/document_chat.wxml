<view id="chat" class="data-v-680a374c"><scroll-view class="u-page data-v-680a374c vue-ref" style="{{'height:'+(msgListHeight)+';'}}" scroll-with-animation="{{true}}" scroll-y="true" id="textadd" data-ref="box"><u-row vue-id="993bb028-1" align="top" gutter="5" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('993bb028-2')+','+('993bb028-1')}}" span="1.5" textAlign="center" align="top" justify="top" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><image style="height:38px;width:38px;border-radius:50%;" src="{{glmImg}}" class="data-v-680a374c"></image></u-col><u-col vue-id="{{('993bb028-3')+','+('993bb028-1')}}" soan="9" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><view class="tips data-v-680a374c"><view style="font-size:17px;" class="data-v-680a374c">欢迎来到文档对话，上传文档我即可进行文档内容的学习，开始上传文档试试吧！</view><block wx:if="{{isDoc}}"><view data-event-opts="{{[['tap',[['uploadFile',['$event']]]]]}}" class="document_btn data-v-680a374c" bindtap="__e">上传文档</view></block><block wx:if="{{isDoc}}"><view style="display:flex;justify-content:space-between;" class="data-v-680a374c"><view class="document_type data-v-680a374c">支持文件类型:pdf</view><view class="document_type data-v-680a374c">6w算力/页</view></view></block><block wx:if="{{!isDoc}}"><view class="document_name data-v-680a374c"><image style="height:26px;width:26px;" src="{{glmImg}}" class="data-v-680a374c"></image><text class="document_text data-v-680a374c">{{documetName}}</text></view></block></view></u-col></u-row><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="listItem data-v-680a374c" scroll-with-animation="{{true}}" anchor="{{index}}"><u-row vue-id="{{'993bb028-4-'+index}}" align="top" gutter="5" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('993bb028-5-'+index)+','+('993bb028-4-'+index)}}" span="1.5" textAlign="center" align="top" justify="top" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><image style="height:38px;width:38px;border-radius:50%;" src="{{item.$orig.type=='assistant'?glmImg:avatar}}" class="data-v-680a374c"></image></u-col><u-col vue-id="{{('993bb028-6-'+index)+','+('993bb028-4-'+index)}}" soan="9" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.type=='assistant'}}"><view class="data-v-680a374c"><block wx:if="{{index===0}}"><view class="tips data-v-680a374c"><rich-text nodes="{{item.$orig.talk}}"></rich-text></view></block><block wx:else><view class="data-v-680a374c"><block wx:if="{{item.g0!=-1}}"><label class="loadingTalk _span data-v-680a374c"><view class="flexs data-v-680a374c"><image class="loadingImages data-v-680a374c" src="{{waitImg}}" mode></image><text style="vertical-align:top;word-break:break-all;" class="data-v-680a374c">{{item.$orig.talk}}</text></view><block wx:if="{{index===item.g1-1}}"><u-col vue-id="{{('993bb028-7-'+index)+','+('993bb028-6-'+index)}}" span="4" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('993bb028-8-'+index)+','+('993bb028-7-'+index)}}" type="primary" customStyle="{{item.a0}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['stopStart']]]]}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">停止回答</u-button></u-col></block></label></block><block wx:else><block wx:if="{{item.$orig.code==40022}}"><view class="tips data-v-680a374c"><text style="font-size:17px;word-break:break-all;" class="data-v-680a374c">{{item.$orig.talk}}</text><view style="display:flex;justify-content:space-around;" class="data-v-680a374c"><block wx:if="{{listName=='one'}}"><u-button vue-id="{{('993bb028-9-'+index)+','+('993bb028-6-'+index)}}" type="error" color="#FF9B17" customStyle="{{item.a1}}" data-event-opts="{{[['^click',[['goToVip']]]]}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">升级会员</u-button></block><u-button vue-id="{{('993bb028-10-'+index)+','+('993bb028-6-'+index)}}" type="error" color="#1F64FF" customStyle="{{item.a2}}" data-event-opts="{{[['^click',[['goToVip']]]]}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">开通流量包</u-button></view></view></block><block wx:else><block wx:if="{{item.$orig.code==40021}}"><view class="tips data-v-680a374c"><text style="font-size:17px;word-break:break-all;" class="data-v-680a374c">{{item.$orig.talk}}</text></view></block><block wx:else><view class="data-v-680a374c"><view class="tips data-v-680a374c"><ua-markdown vue-id="{{('993bb028-11-'+index)+','+('993bb028-6-'+index)}}" source="{{item.$orig.talk}}" showLine="{{false}}" class="data-v-680a374c" bind:__l="__l"></ua-markdown><u-row class="edit data-v-680a374c" vue-id="{{('993bb028-12-'+index)+','+('993bb028-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col style="font-size:14px;" vue-id="{{('993bb028-13-'+index)+','+('993bb028-12-'+index)}}" span="6" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">{{'字数:'+item.$orig.textNumber+''}}</u-col><block wx:if="{{item.$orig.loading}}"><u-col style="font-size:14px;" vue-id="{{('993bb028-14-'+index)+','+('993bb028-12-'+index)}}" span="6" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">{{'消耗:'+(item.$orig.integral+16.4)+'w算力'}}</u-col></block></u-row><block wx:if="{{item.$orig.loading&&listName!='six'}}"><u-row class="edit data-v-680a374c" vue-id="{{('993bb028-15-'+index)+','+('993bb028-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col style="font-size:14px;" vue-id="{{('993bb028-16-'+index)+','+('993bb028-15-'+index)}}" span="6" align="left" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">{{'上行:'+item.$orig.prompt_tokens+' token'}}</u-col><u-col style="font-size:14px;" vue-id="{{('993bb028-17-'+index)+','+('993bb028-15-'+index)}}" span="6" align="left" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">{{'下行:'+item.$orig.completion_tokens+' token'}}</u-col></u-row></block><block wx:if="{{item.$orig.loading&&listName=='six'}}"><u-row class="edit data-v-680a374c" vue-id="{{('993bb028-18-'+index)+','+('993bb028-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><u-col style="font-size:14px;" vue-id="{{('993bb028-19-'+index)+','+('993bb028-18-'+index)}}" span="6" align="left" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">{{'消耗:'+item.$orig.all_tokens+' token'}}</u-col></u-row></block><u-row class="edit data-v-680a374c" vue-id="{{('993bb028-20-'+index)+','+('993bb028-6-'+index)}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.history}}"><u-col vue-id="{{('993bb028-21-'+index)+','+('993bb028-20-'+index)}}" span="7.5" class="data-v-680a374c" bind:__l="__l"></u-col></block><block wx:if="{{!item.$orig.history}}"><u-col vue-id="{{('993bb028-22-'+index)+','+('993bb028-20-'+index)}}" span="1" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-680a374c"><block wx:if="{{item.$orig.loading}}"><image style="vertical-align:top;" src="/static/images/time.png" mode width="16px" height="16px" class="data-v-680a374c"></image></block><block wx:else><image class="loadingImages data-v-680a374c" src="{{waitImg}}" mode width="16px" height="16px"></image></block></view></u-col></block><block wx:if="{{!item.$orig.history}}"><u-col style="font-size:14px;" vue-id="{{('993bb028-23-'+index)+','+('993bb028-20-'+index)}}" span="6.5" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><view class="data-v-680a374c"><block wx:if="{{item.$orig.loading}}"><text class="data-v-680a374c">{{'耗时：'+item.$orig.time+"秒"}}</text></block><block wx:else><text class="data-v-680a374c">{{'思考中:'+item.$orig.time+"秒"}}</text></block></view></u-col></block><u-col vue-id="{{('993bb028-24-'+index)+','+('993bb028-20-'+index)}}" span="3.5" class="data-v-680a374c" bind:__l="__l"></u-col><u-col vue-id="{{('993bb028-25-'+index)+','+('993bb028-20-'+index)}}" span="1" data-event-opts="{{[['^click',[['copyFun',['$0'],[[['messageList.'+listName+'','',index,'talk']]]]]]]}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><image src="/static/images/balckCopy.png" mode class="data-v-680a374c"></image></u-col></u-row><view class="btn_tab data-v-680a374c"><text class="tab_left data-v-680a374c">当前内容为AI生成，不做任何决策使用！由此引发的一切后果，需自行承担，请知悉,已通过阿里云内容安全审核</text></view></view><u-row style="flex-wrap:wrap;width:100%;margin-bottom:50px;" vue-id="{{('993bb028-26-'+index)+','+('993bb028-6-'+index)}}" gutter="20" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.g2}}"><u-col vue-id="{{('993bb028-27-'+index)+','+('993bb028-26-'+index)}}" span="4" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('993bb028-28-'+index)+','+('993bb028-27-'+index)}}" type="primary" customStyle="{{item.a3}}" size="mini" color="rgba(31, 100, 255, 0.1)" data-event-opts="{{[['^click',[['endController']]]]}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">停止回答</u-button></u-col></block><block wx:if="{{index===item.g3-1}}"><u-col vue-id="{{('993bb028-29-'+index)+','+('993bb028-26-'+index)}}" span="4" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><view style="margin-bottom:100px;" class="data-v-680a374c"></view></u-col></block></u-row></view></block></block></block></view></block></view></block><block wx:else><view class="data-v-680a374c"><view class="talk data-v-680a374c" style="background:#1F64FF;color:#fff;"><view style="word-break:break-all;" class="data-v-680a374c">{{''+item.$orig.talk+''}}</view><block wx:if="{{item.g4>0}}"><view class="data-v-680a374c"><image style="height:500rpx;width:500rpx;" src="{{item.m0}}" mode="aspectFit" data-event-opts="{{[['tap',[['checkImg',['$0'],[[['messageList.'+listName+'','',index,'images.__$n0']]]]]]]}}" bindtap="__e" class="data-v-680a374c"></image></view></block><image src="/static/images/copy.png" mode data-event-opts="{{[['tap',[['copyFun',['$0'],[[['messageList.'+listName+'','',index,'talk']]]]]]]}}" bindtap="__e" class="data-v-680a374c"></image></view></view></block></u-col></u-row></view></block></scroll-view><view class="bottomInput bottom_p data-v-680a374c" style="{{'bottom:'+(bottomTop+'px')+';'}}"><view class="btn_link data-v-680a374c" style="display:flex;justify-content:space-between;"><view class="link_l data-v-680a374c"><block wx:if="{{$root.g5}}"><view data-event-opts="{{[['tap',[['newChatSpeak',['$event']]]]]}}" class="l_chat data-v-680a374c" style="margin-right:15rpx;" bindtap="__e"><u-icon vue-id="993bb028-30" name="plus" color="#1F64FF" size="14" class="data-v-680a374c" bind:__l="__l"></u-icon><text class="l_text data-v-680a374c">开启新会话</text></view></block><view data-event-opts="{{[['tap',[['toHistory',['$event']]]]]}}" class="l_chat data-v-680a374c" bindtap="__e"><u-icon vue-id="993bb028-31" name="clock" color="#1F64FF" size="16" class="data-v-680a374c" bind:__l="__l"></u-icon><text class="l_text data-v-680a374c">历史会话</text></view></view><view style="font-size:24rpx;color:#999;" class="data-v-680a374c">17.4w算力/次</view></view><u-row vue-id="993bb028-32" align="bottom" gutter="5" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><u-col vue-id="{{('993bb028-33')+','+('993bb028-32')}}" span="9.5" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><view class="chat_input data-v-680a374c"><u-textarea vue-id="{{('993bb028-34')+','+('993bb028-33')}}" placeholder="在此输入您想了解的内容" autoHeight="{{true}}" showConfirmBar="{{false}}" adjustPosition="{{false}}" maxlength="-1" disableDefaultPadding="{{true}}" border="none" focus="{{false}}" value="{{chatInputValue}}" data-event-opts="{{[['^confirm',[['sendInfo']]],['^keyboardheightchange',[['keyboardheightchange']]],['^input',[['__set_model',['','chatInputValue','$event',[]]]]]]}}" bind:confirm="__e" bind:keyboardheightchange="__e" bind:input="__e" class="data-v-680a374c" bind:__l="__l"></u-textarea><block wx:if="{{$root.g6>0}}"><view class="data-v-680a374c"><block wx:for="{{$root.l1}}" wx:for-item="val" wx:for-index="index" wx:key="index"><view class="input_right data-v-680a374c"><image class="inputImg data-v-680a374c" src="{{val.m1}}"></image><text class="input_text data-v-680a374c"></text><u-icon vue-id="{{('993bb028-35-'+index)+','+('993bb028-33')}}" name="close" size="18" data-event-opts="{{[['^click',[['e0']]]]}}" data-event-params="{{({index})}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l"></u-icon></view></block></view></block></view></u-col><u-col vue-id="{{('993bb028-36')+','+('993bb028-32')}}" span="2.5" align="bottom" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><u-button vue-id="{{('993bb028-37')+','+('993bb028-36')}}" type="primary" color="#1F64FF" data-event-opts="{{[['^click',[['sendInfo']]]]}}" bind:click="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}">发送</u-button></u-col></u-row></view><u-modal vue-id="993bb028-38" show="{{show}}" confirmText="确定" confirmColor="#1F64FF" showCancelButton="{{true}}" data-event-opts="{{[['^cancel',[['e1']]],['^confirm',[['showFun']]]]}}" bind:cancel="__e" bind:confirm="__e" class="data-v-680a374c" bind:__l="__l" vue-slots="{{['default']}}"><view class="modal data-v-680a374c"><view class="edit data-v-680a374c"><view class="changes data-v-680a374c"></view>继续提问</view><view class="content data-v-680a374c"><u--textarea bind:input="__e" vue-id="{{('993bb028-39')+','+('993bb028-38')}}" placeholder="在此输入你想优化的内容" border="none" height="110px" value="{{complete}}" data-event-opts="{{[['^input',[['__set_model',['','complete','$event',[]]]]]]}}" class="data-v-680a374c" bind:__l="__l"></u--textarea></view></view></u-modal></view>