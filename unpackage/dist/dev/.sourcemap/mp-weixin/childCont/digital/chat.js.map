{"version":3,"sources":["uni-app:///main.js","webpack:///F:/G/company/umi-git/childCont/digital/chat.vue?be2a","webpack:///F:/G/company/umi-git/childCont/digital/chat.vue?3717","webpack:///F:/G/company/umi-git/childCont/digital/chat.vue?b32a","webpack:///F:/G/company/umi-git/childCont/digital/chat.vue?0529","uni-app:///childCont/digital/chat.vue","webpack:///F:/G/company/umi-git/childCont/digital/chat.vue?cfa1","webpack:///F:/G/company/umi-git/childCont/digital/chat.vue?e753","webpack:///F:/G/company/umi-git/pages/login/login.vue?6995","webpack:///F:/G/company/umi-git/pages/login/login.vue?e2a9","webpack:///F:/G/company/umi-git/pages/login/login.vue?adab","webpack:///F:/G/company/umi-git/pages/login/login.vue?4894","uni-app:///pages/login/login.vue","webpack:///F:/G/company/umi-git/pages/login/login.vue?87e1","webpack:///F:/G/company/umi-git/pages/login/login.vue?7414"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","picImg1","phoneImg","wxImg","wxgImg","webImg","tabImg1","tabImg2","tabImg3","tabImg4","tabImg5","chatChange","isBtn","Height","speak1","speak2","speak3","messageShow","messageValue","messagePhone","chatInputValue","chat_type","loading","session_code","chat_group_code","supplement","msg_list","prompt","isone","videoContext","videoContext_no","infoSpeak","token","voice_url","innerAudioContext","speakValue","stop_three","three_shi","three_time","requestTask_three","load_state","onLoad","console","st","url","appkey","onShow","setTimeout","onHide","onUnload","methods","init","changeSpeak","uni","scope","fail","icon","title","success","longpressBtn","touchendBtn","readyGO","startRecord","duration","numberOfChannels","sampleRate","format","frameSize","continueRecord","that","stopSpeak","endRecord","sleep","getToken","getInteract","play","stop","getRcordToken","speakSocket","header","getModelList","val","playSpeak","toSpeakN","speakOne","toSpeakY","toDigital","keyboardheightchange","inputBlur","inputFocus","message","getImgUrl","sendMessage","content","stream_str","is_decode","role","covert_content","agent_id","getsendToken","sendSocket","base64ToString","atob","string","result","r1","r2","i","bitmap","String","creatChatFun","method","enableChunked","complete","statusCode","arr","info","new_val","messageSubmit","toPhone","phoneNumber","checkInfo","copyWebsite","ideaImg","selectCheck","getPhoneNumber","loginImg","phoneLogin","getphonenumber","code","encryptedData","iv","provider","delta","res","toLogin","creatMe","batchTutor","user_id","me_id","radioChange","guessLogin","time","checkAgree","checkSecret","toIdea"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACyM;AACzM,gBAAgB,gNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kSAEN;AACP,KAAK;AACL;AACA,aAAa,4RAEN;AACP,KAAK;AACL;AACA,aAAa,4RAEN;AACP,KAAK;AACL;AACA,aAAa,0TAEN;AACP,KAAK;AACL;AACA,aAAa,8SAEN;AACP,KAAK;AACL;AACA,aAAa,wSAEN;AACP,KAAK;AACL;AACA,aAAa,8SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAA+xB,CAAgB,6xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;AC0JnzB;AAGA;AAGA;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAZA;AACA;AAAA,eAYA;EACAC;IAAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MAEAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;IAAA,uDACA,sDACA,uDACA,oDACA,qDACA,oDACA,uDAEA,yDACA,uDACA,qDACA,2DACA,mDAEA,oDACA,uDACA,qDAEA,oDACA,mDACA,kDAEA,uDAEA,oDACA,yDACA,0DACA,wDACA;EAEA;EAEAC;IAAA;MAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;gBACA;gBACA;gBACA;gBACA;kBACA;kBACA;gBACA;cACA;cAEA;gBACA;cACA;;cAEA;cACA;;cAEA;cACA9C;gBACA;gBACA;gBACA;gBACA;kBACA+C;gBACA;gBACA;kBACA;kBACA;gBACA;cACA;cACA/C;gBACA+C;cACA;cACA/C;gBACA+C;gBACA;gBACA;gBACA;;gBAEA;gBACA;gBACA;gBACA;gBACA;cACA;;cACA/C;gBACA+C;cACA;cAAA;cAAA;cAAA,OAIA;YAAA;cAAA;cAAA;YAAA;cAAA;cAAA;cAEAA;cAAA;YAAA;cAIAC;gBACAC;gBACAC;gBAAA;gBACAb;gBACA;cACA;;cAEAW;gBACAD;gBACA;cACA,IAEAC;gBACAD;gBACA;gBACA;gBACA;kBACA;gBAAA;cAGA,IAEAC;gBACAD;gBACA;cACA,IAEAC;gBACAD;gBACA;gBACA;gBACA;kBACA;kBACA;gBAAA;gBAEA;cACA;;cAEAC;gBACAD;gBACA;gBACA;gBACA;kBACA;kBACA;kBACA;kBACA;gBACA;cACA;;cAEAC;gBACA;kBACA;kBACA;kBACA;gBACA;kBACA;kBACA;oBACA;kBACA;oBACAD;kBACA;kBACA;gBACA;cACA;;cAEAC;gBACAD;gBACA;gBACA;gBACA;gBACA;kBACAA;kBACA;gBACA;kBACA;kBACA;oBACA;kBACA;oBACAA;kBACA;kBACA;gBACA;cAEA;;cAEA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CACA;IAAA;MAAA;IAAA;IAAA;EAAA;EAEAI;IAAA;IACA;IACA;IAEA;MACA;MACA;IACA;MACA;MACAC;QACA;MACA;IACA;EAEA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;MACA;QACAT;MACA;MAEA;QACAA;QACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;UACA;YACA;YACA;YACA;cACA;cACA;YACA;YACA;YACA;YACA;YACA;UACA;QAEA;QACA;QACA;UACA;UACA;UACA;YACA;YACA;UACA;UACA;UACA;UACA;UACA;QACA;MAGA;MAEA;QACAA;MACA;IACA;IAEAU;MAAA;MAEAC;QACAC;QACAC;UACAF;YACAG;YACAC;UACA;QACA;QACAC;UACAhB;UACA;QACA;MACA;IACA;IAEAiB;MACA;MACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;MACAb;QACA;QACA;MACA;IAGA;IAEAc;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBACApB;gBAAA;cAAA;gBAAA,KAIA;kBAAA;kBAAA;gBAAA;gBACAA;gBAAA;cAAA;gBAGAC;gBAAA;gBAAA;gBAAA,OAEAA;cAAA;gBACA;gBACA;gBAEAD;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBAAA;cAAA;gBAGA/C;kBACAoE;kBACAC;kBACAC;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IAEA;IACAC;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAEAzB;gBACA0B;gBAAA;gBAAA;gBAAA,OAEA1B;cAAA;gBACAD;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBAAA;cAAA;gBAGA/C;kBACAoE;kBACAC;kBACAC;kBACAC;kBACAC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACA;MAAA;QAAA;MAAA;MAAA;IAAA;IAEAG;MACA;MACA;IACA;IAEA;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;gBAEA5E;gBACA;gBAAA;gBAAA,OACA6E;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAEA9B;gBAAA;gBAAA,OACA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAGA;MAAA;QAAA;MAAA;MAAA;IAAA;IAEA;IACA+B;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA/B;gBAAA;gBAAA,OACA;kBACA;oBACA;kBACA;oBACA;kBACA;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEAgC;MAAA;MACA;QACA;QACA;QACA;MACA;MACA;QACA;UACA;UACA;YACA;YACA;UACA;YACA;YACA;YACA;UACA;YACA;YACA;UACA;YACA;YACA;UACA;UACA;YACA;YACA;YACA;YACA;UACA;YACA;YACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;kBACA;oBACA;oBACA;kBACA;oBACA;kBACA;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACAT;QACAzB;QACA;QACAmC;UACA;QACA;QACArB;UACAhB;QACA;MACA;MACA;MACA2B;QACA3B;QACA;QACA;UACA2B;QACA;UACAA;QACA;QACAA;UACArE;YACA;YACA;YACA;UACA;QACA;QACAqE;UACArE;YACA;UACA;QACA;MACA;MACA;MACAqD;QACAX;MACA;;MAEA;MACA2B;QACA3B;QACA;QACA;UACA;UACA;YACA;YACA;YACAA;YACA2B;YACAA;cACA3B;YACA;YACA;YACA;cACA;cACA;cACA;YACA;UACA;QAEA;MACA;IAEA;IAEA;IACAsC;MAAA;MACA;MACA;MACA;MACA;QACAC;UACA;UACA;UACA;UACA;QACA;MACA;QACAA;UACA;UACA;UACA;QACA;MACA;MACA;QACA;UACA;YACA;YAEA;cACA;YACA;cACA;YACA;YACAlC;cACAsB;YACA;YACA;YACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IAEAa;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IAEAC;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IAEAC;MACA;;MAEA;QACA;QACA;QACA;QACA;QACA;QACA;MAEA;IACA;IAEA;IACAC;MACA;QACA;QACAjC;UACAT;QACA;MACA;QACA;QACAS;UACAT;QACA;MACA;QACA;QACAS;UACAT;QACA;MACA;QACA;QACAS;UACAT;QACA;MACA;IAEA;IACA2C;MACA;MACA;QAEA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;QACA;MACA;IAEA;IACAC;MAAA;MACA;QACA;MACA;MACAnC;IAEA;IACAoC;MAAA;MACA;MACA;QAEA;UACA;QAEA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IAEAC;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;;MAEA;MACA;MAEA;QACA;QACA;QACA;MACA;MACAvC;QACAI;MACA;MACA;QACA;UACA;UACA;YACApC;YACA;YACAE;YACAC;YACAqE;YACAC;YACAC;YACArE;cACAsE;cACAH;cACAI;cACAC;YACA;UACA;UACAlG;UACA;QACA;UACA;UACAqD;QACA;MACA;QACA;QACAA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;IAEA;IACA;IACA8C;MAAA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACA;MACA;MACA/B;QACAzB;QACA;QACAmC;UACA;QACA;QACArB;UACAhB;QACA;MACA;MACA;MACA2B;QACA3B;MAEA;MACA;MACAW;QACAX;MACA;;MAEA;MACA2B;QACA3B;QACA;QACA;UACA;UACA;YACA;YACA;YACAA;YACA;YACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;;YACA;YACA2B;YACAA;cACA;;cAEAA;cACA;cACA;cACA;cACA;gBACAA;gBACAtB;kBACAsB;oBACArE;sBACA;sBACA;sBACA;oBACA;kBACA;kBACAqE;oBACArE;sBACA;oBACA;kBACA;gBACA;cAEA;cACA;YAEA;UAIA;QAEA;MACA;IAEA;IAEAqG;MACA;MACA;MACA;QAAA;MAAA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;IACA;IAEA;IACAC;MACAC;MACA;MACA;MACA;MACA,yBACA,oBACA;MACAA;MACA;QAAAC;QACAC;QAAAC;QAAAC;MACA;QACAC,yFACA;QACAJ,gEACAE,yEACAG;MACA;MACA;IAEA;IAGA;IACAC;MAAA;MAGA;MACA;MACA;MACA9G;MACA;MACAA;MACA;QACA;QACA4C;QACA5C;QACA+E;UACA;UACA;UACA;QACA;QACAgC;QACA;QACAC;QACAtD;UAGA;QACA;QAEAH;UACAb;QACA;QACAuE;UAGA,4DACAC;YAGA;YACA;cACA;gBACA;kBACA;kBAEA;oBACA;oBACAnE;sBACAM;wBACAT;sBACA;oBACA;oBACAS;kBACA;oBACAA;kBACA;kBACA;gBACA;kBACA;kBACAA;gBACA;kBACA;kBACAA;gBACA;cAEA;gBACAA;gBACAX;cACA;cAEA;YACA;UAEA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;;MAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAyE;UACA;UACA,4EAEAC;UAEA;YACA1E;YACA;UACA;YACA;UACA;UAEA;UACA;UACA;UACA;YAEA;cACA2E;YACA;cACAA;YACA;YACA;YACA;cACA;cACA;cACAtE;gBACAM;gBACAX;gBACA;kBACA1C;oBACA;oBACA;oBACA;kBACA;gBACA;gBACA;kBACAA;oBACA;kBACA;gBACA;cACA;YACA;YAEA0C;YAEA;YACA;UACA;QAEA;;QAGA;MAEA;IAEA;IAEA4E;MAAA;MACA;QACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;UACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IAEAC;MACAlE;QACAmE;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA/H;QACAK;QAAA;QACA0D;UAAA;UACAL;YAAA;YACAI;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;AC/vCA;AAAA;AAAA;AAAA;AAA09C,CAAgB,i5CAAG,EAAC,C;;;;;;;;;;;ACA9+C;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACyM;AACzM,gBAAgB,gNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8SAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAgyB,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACwCpzB;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAIA;EACAzD;IACA;MACA2H;MACAC;MACAC;MACAC;IACA;EACA;EAEAhF;IAEA;MACAJ;MACA;IACA;EAEA;EACAQ;IACA6E;MACA;MACA1E;QACAT;MACA;IACA;IACAoF;MACAtF;MACA;MACA;QACA;QAEA;UACAuF;UACAC;UACAC;QACA;UACA;UACA;UACA9E;YACA+E;YACA1E;cACA;cACA;cACA;gBACA;gBACA;gBACA;cACA;cACA;gBACA;kBACAuB;gBACA;cACA;cACA5B;gBACAI;cACA;cACA;gBACA;kBACAJ,kDACArD;kBACAqD;kBACAA;kBACA;oBAAA;oBACAA;sBAAA;sBACAgF;oBACA;oBACAhF;kBACA;oBACAgB,mDACAiE;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;gBAEA;kBACAjF;kBACAgB;gBACA;cACA;gBACAhB;gBACAgB;cACA;YACA;UACA;QACA;MACA;IACA;IACAkE;MAEA;QACA;MAEA;QACA;MACA;IAEA;IAEAC;MAAA;MACA;QACA;QACA;QACA;QACA;MACA;MAEA;QACA;UACA;QACA;UACA;UACAnF;QACA;MACA;QACA;QACAA;MACA;IACA;IAEA;IACAoF;MAAA;MACA;QACAC;QACAC;MACA;QACA;UACAtF;UACAA;YAAA;YACAgF;UACA;QACA;UACAhF;UACA;QACA;MACA;IACA;IAEAuF;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;MACA;MAEA;QACAC;MACA;MACAzF;QACAT;QACA5C;QACA+E;QACAgC;QACArD;UACA;YACAL;YACAA;UACA;YACAX;UACA;QACA;MACA;IACA;IAEAqG;MACA1F;QACAT;MACA;IACA;IACAoG;MACA3F;QACAT;MACA;IACA;IAGAqG;MACA5F;QACAT;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACnPA;AAAA;AAAA;AAAA;AAA2/C,CAAgB,i7CAAG,EAAC,C;;;;;;;;;;;ACA/gD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"childCont/digital/chat.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './childCont/digital/chat.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chat.vue?vue&type=template&id=86dae404&scoped=true&\"\nvar renderjs\nimport script from \"./chat.vue?vue&type=script&lang=js&\"\nexport * from \"./chat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chat.vue?vue&type=style&index=0&id=86dae404&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"86dae404\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"childCont/digital/chat.vue\"\nexport default component.exports","export * from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=template&id=86dae404&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-row/u-row\" */ \"@/uni_modules/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-col/u-col\" */ \"@/uni_modules/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uTextarea: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-textarea/u-textarea\" */ \"@/uni_modules/uview-ui/components/u-textarea/u-textarea.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getImgUrl(_vm.infoSpeak.out_video_cover)\n  var m1 = _vm.getImgUrl(_vm.infoSpeak.out_video)\n  var m2 = _vm.getImgUrl(_vm.infoSpeak.out_video_speak)\n  var m3 = _vm.top_tip == 1 ? _vm.getImgUrl(_vm.infoSpeak.wechat_code) : null\n  var m4 = _vm.top_tip == 2 ? _vm.getImgUrl(_vm.infoSpeak.group_code) : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.chatChange = \"keyboard\"\n    }\n    _vm.e1 = function ($event) {\n      _vm.messageShow = false\n    }\n    _vm.e2 = function ($event) {\n      _vm.tipShow = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 数字人对话页面 -->\r\n\t<view class='main'>\r\n\t\t<!-- <image src=\"https://umi-intelligence.oss-cn-shenzhen.aliyuncs.com/xcx/com/message_center/IMG_6933 1.png\"></image> -->\r\n\t\t<!-- <video :src=\"speak1\" autoplay loop :controls=\"false\" :show-fullscreen-btn=\"false\" objectFit='cover'\r\n\t\tstyle=\"width: 100%; height: 100vh\"></video> -->\r\n\t\t<image :src=\"getImgUrl(infoSpeak.out_video_cover)\" class=\"video_w\" :style=\"{'z-index': img_index}\" mode=\"aspectFill\"></image>\r\n\t\t<video :src=\"getImgUrl(infoSpeak.out_video)\" id=\"noVideo\" loop :controls=\"false\" :show-fullscreen-btn=\"false\" objectFit='cover' http-cache\r\n\t\tclass=\"video_w\" :style=\"{'z-index': no_index}\" @click=\"playSpeak\" @play=\"toSpeakN\"></video>\r\n\t\t<video :src=\"getImgUrl(infoSpeak.out_video_speak)\" loop id=\"myVideo\" :controls=\"false\" :show-fullscreen-btn=\"false\" objectFit='cover' http-cache\r\n\t\tclass=\"video_w\" :style=\"{'z-index': y_index}\" @click=\"speakOne\" @play=\"toSpeakY\"></video>\r\n\t\t<!-- 顶部选项 -->\r\n\t\t<view class='top-nav'>\r\n\t\t\t<view v-if=\"infoSpeak.user_mobile\" @click=\"toPhone(infoSpeak.user_mobile)\">\r\n\t\t\t\t<image :src='phoneImg'></image>\r\n\t\t\t\t<text>电话</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"infoSpeak.wechat_code\" @click=\"checkInfo(1)\">\r\n\t\t\t\t<image :src='wxImg'></image>\r\n\t\t\t\t<text>微信</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"infoSpeak.group_code\" @click=\"checkInfo(2)\">\r\n\t\t\t\t<image :src='wxgImg'></image>\r\n\t\t\t\t<text>微信群</text>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"infoSpeak.model_website\" @click=\"checkInfo(3)\">\r\n\t\t\t\t<image :src='webImg'></image>\r\n\t\t\t\t<text>网址</text>\r\n\t\t\t</view>\r\n\t\t\t<view @click=\"message()\" v-if=\"temp_id\">\r\n\t\t\t\t<u-icon name=\"chat\" size=\"21\" color=\"#FFF\"></u-icon>\r\n\t\t\t\t<text>留言</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 右边菜单 -->\r\n\t\t<view class='right-nav'>\r\n\t\t\t<!-- <view v-for='(item,index) in digital_right_nav' @click=\"toDigital(index)\" :key='item.text'>\r\n\t\t\t\t<image :src='item.img'></image>\r\n\t\t\t\t<text>{{item.text}}</text>\r\n\t\t\t</view> -->\r\n\t\t\t<view @click=\"toDigital(0)\" >\r\n\t\t\t\t<image :src='tabImg5'></image>\r\n\t\t\t\t<text>创建形象</text>\r\n\t\t\t</view>\r\n\t\t\t<view @click=\"toDigital(1)\">\r\n\t\t\t\t<image :src='tabImg1'></image>\r\n\t\t\t\t<text>编辑分身</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view @click=\"toDigital(2)\" v-if=\"!temp_id\">\r\n\t\t\t\t<image :src='tabImg3'></image>\r\n\t\t\t\t<text>分享</text>\r\n\t\t\t</view>\r\n\t\t\t<view @click=\"toDigital(3)\" v-if=\"!temp_id\">\r\n\t\t\t\t<image :src='tabImg4'></image>\r\n\t\t\t\t<text>记录</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class='bottom'>\r\n\t\t\t<view class='bottom-tags' v-if=\"infoSpeak.tags\">\r\n\t\t\t\t<view class='bottom-tags-title'>\r\n\t\t\t\t\t<image src=\"https://umi-intelligence.oss-cn-shenzhen.aliyuncs.com/xcx/com/message_center/标签 1.png\"></image>\r\n\t\t\t\t\t<text>标签</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class='tag' v-for='(item,index) in infoSpeak.tags':key='index' v-if=\"item != ''\">{{ item }}</view>\r\n\t\t\t\t<!-- <view class='tag'>温柔</view> -->\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-tips\">{{ speakValue }}</view>\r\n\t\t\t<view class=\"bottom-bottom\">\r\n\t\t\t\t<view class=\"bottomInput\" ref=\"textInput\" :style=\"{bottom:Height+'px'}\">\r\n\t\t\t\t\t\t<u-row align='bottom' gutter=\"5\" v-if=\"chatChange == 'audio'\">\r\n\t\t\t\t\t\t\t<u-col span=\"1\">\r\n\t\t\t\t\t\t\t\t<view style=\"height: 100%;display: flex;justify-content: center;align-items: center;\">\r\n\t\t\t\t\t\t\t\t\t<u-icon name=\"chat\" size=\"32\" color=\"#666\" @click=\"chatChange = 'keyboard'\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t\t<u-col span=\"11\">\r\n\t\t\t\t\t\t\t\t<view class=\"chat_audio\" @longpress=\"longpressBtn(4)\" @touchend=\"touchendBtn()\">\r\n\t\t\t\t\t\t\t\t\t<text>按住说话</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t</u-row>\r\n\t\t\t\t\t\t<u-row align='bottom' gutter=\"5\" v-else>\r\n\t\t\t\t\t\t\t<u-col span=\"1\">\r\n\t\t\t\t\t\t\t\t<view style=\"height: 100%;display: flex;justify-content: center;align-items: center;\">\r\n\t\t\t\t\t\t\t\t\t<u-icon name=\"mic\" size=\"32\" color=\"#666\" @click=\"changeSpeak\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t\t<u-col span=\"8.5\">\r\n\t\t\t\t\t\t\t\t<view class=\"chat_input\">\r\n\t\t\t\t\t\t\t\t\t<u-textarea v-model=\"chatInputValue\" placeholder=\"在此输入您想了解的内容\" @confirm=\"sendMessage\" autoHeight\r\n\t\t\t\t\t\t\t\t\t\t:showConfirmBar='false' :adjustPosition='false' @focus='inputFocus' @blur='inputBlur'\r\n\t\t\t\t\t\t\t\t\t\tmaxlength='-1' :disableDefaultPadding='true' @keyboardheightchange='keyboardheightchange'\r\n\t\t\t\t\t\t\t\t\t\tborder='none' :focus=\"false\">\r\n\t\t\t\t\t\t\t\t\t</u-textarea>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t\t<u-col span=\"2.5\" align=\"bottom\">\r\n\t\t\t\t\t\t\t\t<u-button type=\"primary\" color=\"#1F64FF\" @click=\"sendMessage\">发送</u-button>\r\n\t\t\t\t\t\t\t</u-col>\r\n\t\t\t\t\t\t</u-row>\r\n\t\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<u-popup :show=\"messageShow\" mode=\"center\" :round=\"8\" length=\"auto\">\r\n\t\t\t\t<view class=\"message-box\">\r\n\t\t\t\t\t<view class=\"message-close\" @click=\"messageShow = false\">\r\n\t\t\t\t\t\t<u-icon name=\"close\" size=\"21\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"message-title\">留言</view>\r\n\t\t\t\t\t<view class=\"message-content\">\r\n\t\t\t\t\t\t<u-textarea v-model=\"messageValue\" placeholder=\"请输入你想留言的内容\"\r\n\t\t\t\t\t\t\tmaxlength=\"-1\"></u-textarea>\r\n\t\t\t\t\t\t<view class=\"phone_title\">联系方式</view>\r\n\t\t\t\t\t\t<u--input placeholder=\"请输入手机号码\" border=\"surround\" maxlength=\"30\" v-model=\"messagePhone\"></u--input>\r\n\t\t\t\t\t\t<view class=\"message-submit\" @click=\"messageSubmit\">提交</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t\r\n\t\t<!-- 顶部栏提示内容-->\r\n\t\t<u-popup :show=\"tipShow\" mode=\"center\" :round=\"8\" length=\"auto\">\r\n\t\t\t<view class=\"message-box\">\r\n\t\t\t\t<view class=\"message-close\" @click=\"tipShow = false\" v-if=\"top_tip != 4\">\r\n\t\t\t\t\t<u-icon name=\"close\" size=\"21\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- <view class=\"message-title\">留言</view> -->\r\n\t\t\t\t<view class=\"message-content\" v-if=\"top_tip == 1\">\r\n\t\t\t\t\t<image :src=\"getImgUrl(infoSpeak.wechat_code)\" mode=\"aspectFit\" style=\"width: 100%\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"message-content\" v-if=\"top_tip == 2\">\r\n\t\t\t\t\t<image :src=\"getImgUrl(infoSpeak.group_code)\" mode=\"aspectFit\" style=\"width: 100%\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"message-content\" v-if=\"top_tip == 4\">\r\n\t\t\t\t\t<image :src=\"picImg1\" mode=\"aspectFit\" style=\"width: 100%\"></image>\r\n\t\t\t\t\t<!-- <view>{{ stResult }}</view> -->\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"message-content\" v-if=\"top_tip == 3\">\r\n\t\t\t\t\t<view style=\"margin-top: 40rpx; text-align: center;\">{{ infoSpeak.model_website }}</view>\r\n\t\t\t\t\t<view class=\"message-submit\" @click=\"copyWebsite(infoSpeak.model_website)\">复制</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\tconst SpeechTranscription = require(\"../../utils/st\")\r\n\tconst sleep = require(\"../../utils/util\").sleep\r\n\t\r\n\timport {\r\n\t\tgetToken\r\n\t} from '@/apis/user.js'\r\n\timport {\r\n\t\tgetModelList, getInteract, creatMessage\r\n\t} from '@/apis/home.js'\r\n\timport {\r\n\t\txfChat\r\n\t} from \"@/apis/chat.js\"\r\n\timport * as TextEncoding from 'text-encoding-shim';\r\n\texport default{\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpicImg1: global.baseImg + '/xcx/com/message_center/%E6%9C%80%E6%96%B0%E5%8A%A8%E5%9B%BE.gif',\r\n\t\t\t\tphoneImg: global.baseImg + \"/xcx/com/message_center/Frame 427321012.png\",\r\n\t\t\t\twxImg: global.baseImg + \"/xcx/com/message_center/Frame 427319549.png\",\r\n\t\t\t\twxgImg: global.baseImg + \"/xcx/com/message_center/users-group.png\",\r\n\t\t\t\twebImg: global.baseImg + \"/xcx/com/message_center/web_site.png\",\r\n\t\t\t\ttabImg1: global.baseImg + \"/xcx/com/message_center/minus-square.png\",\r\n\t\t\t\ttabImg2: global.baseImg + \"/xcx/com/message_center/消息 1.png\",\r\n\t\t\t\ttabImg3: global.baseImg + \"/xcx/com/message_center/分享 4.png\",\r\n\t\t\t\ttabImg4: global.baseImg + \"/xcx/com/message_center/记录 (1).png\",\r\n\t\t\t\ttabImg5: global.baseImg + \"/xcx/com/message_center/creat.png\",\r\n\r\n\t\t\t\tchatChange:\"keyboard\",\t\t//对话状态  语音/文字输入\r\n\t\t\t\tisBtn: false,\r\n\t\t\t\tHeight: 0,\r\n\t\t\t\tspeak1: global.baseImg + '/xcx/com/message_center/speak1.mp4',\r\n\t\t\t\tspeak2: global.baseImg + '/xcx/com/message_center/speak2.mp4',\r\n\t\t\t\tspeak3: global.baseImg + '/xcx/com/message_center/speak3.mp4',\r\n\t\t\t\tmessageShow:false,\t//留言框\r\n\t\t\t\tmessageValue:\"\",\t//留言文本\r\n\t\t\t\tmessagePhone:\"\",\t//留言电话\r\n\t\t\t\t\r\n\t\t\t\tchatInputValue: \"\",\r\n\t\t\t\tchat_type: -4, //4文心一言5讯飞星火8chatGlm\r\n\t\t\t\tloading: true,\r\n\t\t\t\tsession_code: \"\",\r\n\t\t\t\tchat_group_code: \"\",\r\n\t\t\t\tsupplement: {\r\n\t\t\t\t\tmsg_list: []\r\n\t\t\t\t},\r\n\t\t\t\tprompt: '',\r\n\t\t\t\t\r\n\t\t\t\tisone: true,\r\n\t\t\t\tvideoContext: '',\r\n\t\t\t\tvideoContext_no: '',\r\n\t\t\t\t\r\n\t\t\t\tinfoSpeak:'',\r\n\t\t\t\ttoken: '',\r\n\t\t\t\tvoice_url: '',\r\n\t\t\t\tinnerAudioContext: null,\r\n\t\t\t\tspeakValue: '',\r\n\t\t\t\t\r\n\t\t\t\tstop_three: false,\r\n\t\t\t\tthree_shi: 0,\r\n\t\t\t\tthree_time: 0,\r\n\t\t\t\trequestTask_three: '',\r\n\t\t\t\tload_state: false,\r\n\t\t\t\tmessageValue: '',\r\n\t\t\t\tchatValue: [],\r\n\t\t\t\tvoiceValue: [],\r\n\t\t\t\tcurrent: 0, // 当前播放的音频索引\r\n\t\t\t\ttextIndex: 0,\r\n\t\t\t\ttext_val: '',\r\n\t\t\t\t\r\n\t\t\t\tnoSpekLoad: true,\r\n\t\t\t\tySpeakLoad: true,\r\n\t\t\t\tinteract: '',\r\n\t\t\t\tis_click: false,\r\n\t\t\t\tclick_count: 0,\r\n\t\t\t\t\r\n\t\t\t\ttemp_id: '',\r\n\t\t\t\ttipShow: false,\r\n\t\t\t\ttop_tip: 1,\r\n\t\t\t\t\r\n\t\t\t\timg_index: 9,\r\n\t\t\t\tno_index: 8,\r\n\t\t\t\ty_index: 7,\r\n\t\t\t\t\r\n\t\t\t\tisPlay: true,//用于判断是否问题返回的语音播放\r\n\t\t\t\t\r\n\t\t\t\tstResult: '', //录音转文字最终结果\r\n\t\t\t\tstStart: false, //是否开启录音\r\n\t\t\t\trec_token: '',\r\n\t\t\t\twebSocketTask: '',\r\n\t\t\t\twebSendTask: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad: async function(option) {\r\n\t\t\tif(option.chatInfo) {\r\n\t\t\t\tthis.infoSpeak = JSON.parse(option.chatInfo)\r\n\t\t\t\tthis.speakValue = this.infoSpeak.model_greetings\r\n\t\t\t\tthis.interact = this.infoSpeak.model_greetings\r\n\t\t\t\tif(!this.speakValue) {\r\n\t\t\t\t\tthis.speakValue = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\tthis.interact = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(option.temp_id) {\r\n\t\t\t\tthis.temp_id = option.temp_id\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//语音播放初始化\r\n\t\t\tthis.init()\r\n\t\t\t\r\n\t\t\t//录音初始化\r\n\t\t\twx.getRecorderManager().onFrameRecorded((res) => {\r\n\t\t\t\t// console.log(res,66665)\r\n\t\t\t\t// console.log(this.st,5869)\r\n\t\t\t\t// console.log(this.stStart,63214)\r\n\t\t\t\tif (res.isLastFrame) {\r\n\t\t\t\t\tconsole.log(\"record done\")\r\n\t\t\t\t}\r\n\t\t\t\tif (this.st && this.stStart) {\r\n\t\t\t\t\t// console.log(\"send \" + res.frameBuffer.byteLength)\r\n\t\t\t\t\tthis.st.sendAudio(res.frameBuffer)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\twx.getRecorderManager().onStart(() => {\r\n\t\t\t\tconsole.log(\"start recording...\")\r\n\t\t\t})\r\n\t\t\twx.getRecorderManager().onStop((res) => {\r\n\t\t\t\tconsole.log(res, \"stop recording...\")\r\n\t\t\t\t// this.uploadVoice(res.tempFilePath);\r\n\t\t\t\t// console.log(this.stResult, 747474)\r\n\t\t\t\t// this.sendMessage()\r\n\t\t\t\r\n\t\t\t\t// if (res.tempFilePath) {\r\n\t\t\t\t// \twx.removeSavedFile({\r\n\t\t\t\t// \t\tfilePath:res.tempFilePath\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }\r\n\t\t\t})\r\n\t\t\twx.getRecorderManager().onError((res) => {\r\n\t\t\t\tconsole.log(\"recording failed:\" + res)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t// console.log('开始获取')\r\n\t\t\t\tawait this.getToken()\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(\"error on get token:\", JSON.stringify(e))\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tlet st = new SpeechTranscription({\r\n\t\t\t\turl: 'wss://nls-gateway.cn-shanghai.aliyuncs.com/ws/v1',\r\n\t\t\t\tappkey: '', //填写后台提供的key\r\n\t\t\t\ttoken: this.rec_token\r\n\t\t\t\t// token: '9468efe7f4c84778a398d70f0d910c27'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tst.on(\"started\", (msg) => {\r\n\t\t\t\t\tconsole.log(\"Client recv started\")\r\n\t\t\t\t\t// this.stResult = msg\r\n\t\t\t\t}),\r\n\t\t\t\r\n\t\t\t\tst.on(\"changed\", (msg) => {\r\n\t\t\t\t\tconsole.log(\"Client recv changed:\", msg)\r\n\t\t\t\t\tlet result = JSON.parse(msg)\r\n\t\t\t\t\t// console.log(result,4158)\r\n\t\t\t\t\tif (result.header.name == 'TranscriptionResultChanged') {\r\n\t\t\t\t\t\t// this.message = result.payload.result;\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t}),\r\n\t\t\t\r\n\t\t\t\tst.on(\"completed\", (msg) => {\r\n\t\t\t\t\tconsole.log(\"Client recv completed:\", msg)\r\n\t\t\t\t\t// this.testValue = JSON.stringify(msg)\r\n\t\t\t\t}),\r\n\t\t\t\r\n\t\t\t\tst.on(\"begin\", (msg) => {\r\n\t\t\t\t\tconsole.log(\"Client recv sentenceBegin:\", msg)\r\n\t\t\t\t\tlet result = JSON.parse(msg)\r\n\t\t\t\t\t// console.log(result,4158)\r\n\t\t\t\t\tif (result.header.name == 'SentenceBegin') {\r\n\t\t\t\t\t\t// this.message = ''\r\n\t\t\t\t\t\t// this.$forceUpdate()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.stResult = msg\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\tst.on(\"end\", (msg) => {\r\n\t\t\t\tconsole.log(\"Client recv sentenceEnd:\", msg)\r\n\t\t\t\tlet result = JSON.parse(msg)\r\n\t\t\t\t// console.log(result,4158)\r\n\t\t\t\tif (result.header.name == 'SentenceEnd') {\r\n\t\t\t\t\tthis.message = ''\r\n\t\t\t\t\tthis.stResult = this.stResult + result.payload.result;\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t// console.log(this.stResult, 9958)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tst.on(\"closed\", () => {\r\n\t\t\t\tif (this.stStart) {\r\n\t\t\t\t\t// console.log('出现close')\r\n\t\t\t\t\t// clearInterval(this.timer_li);\r\n\t\t\t\t\tthis.continueRecord() // 如果没有主动停止则继续录音\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.endRecord()\r\n\t\t\t\t\tif (this.st) {\r\n\t\t\t\t\t\tthis.st.shutdown()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"st is null\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.$api.msg('录音失败，请退出重试')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tst.on(\"failed\", (msg) => {\r\n\t\t\t\tconsole.log(\"Client recv failed:\", msg)\r\n\t\t\t\t// this.stResult = '写一首诗歌'\r\n\t\t\t\tlet result = JSON.parse(msg)\r\n\t\t\t\t// this.sendMessage()\r\n\t\t\t\tif (result.header.status == '40000004' && this.stStart) {\r\n\t\t\t\t\tconsole.log('出现错误了')\r\n\t\t\t\t\tthis.continueRecord() // 如果没有主动停止则继续录音\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.endRecord()\r\n\t\t\t\t\tif (this.st) {\r\n\t\t\t\t\t\tthis.st.shutdown()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"st is null\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// this.$api.msg('录音失败，请退出重试')\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tthis.st = st\r\n\t\t},\r\n\t\t\r\n\t\tonShow(){\r\n\t\t\tthis.videoContext_no = uni.createVideoContext('noVideo')\r\n\t\t\tthis.videoContext = uni.createVideoContext('myVideo')\r\n\t\t\t\r\n\t\t\tif(this.infoSpeak == '') {\r\n\t\t\t\t// console.log(this.infoSpeak,663)\r\n\t\t\t\tthis.getModelList()\r\n\t\t\t} else {\r\n\t\t\t\t// this.getRcordToken()\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.videoContext_no.play()\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonHide(){\r\n\t\t\t// uni.closeSocket()\r\n\t\t\tthis.voiceValue = []\r\n\t\t\tthis.stop()\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// uni.closeSocket()\r\n\t\t\tthis.voiceValue = []\r\n\t\t    this.stop()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tinit() {\r\n\t\t\t\tthis.innerAudioContext = uni.createInnerAudioContext();\r\n\t\t\t\tthis.innerAudioContext.obeyMuteSwitch = false;\r\n\t\t\t\tthis.innerAudioContext.onPlay(() => {\r\n\t\t\t\t\tconsole.log('开始播放');\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\tthis.innerAudioContext.onEnded(() => {\r\n\t\t\t\t\tconsole.log('播放停止了')\r\n\t\t\t\t\t// this.innerAudioContext.stop()\r\n\t\t\t\t\t  this.current++;\r\n\t\t\t\t\t  // console.log(this.voiceValue,5581)\r\n\t\t\t\t\t  if (this.current < this.voiceValue.length) {\r\n\t\t\t\t\t\t  if(this.chatValue[this.current]) {\r\n\t\t\t\t\t\t\t  this.speakValue = this.chatValue[this.current]\r\n\t\t\t\t\t\t\t  this.innerAudioContext.src = this.voiceValue[this.current];\r\n\t\t\t\t\t\t\t  this.innerAudioContext.play();\r\n\t\t\t\t\t\t  } else {\r\n\t\t\t\t\t\t\t  // console.log('视频关闭66')\r\n\t\t\t\t\t\t\t  this.speakValue = this.infoSpeak.model_greetings\r\n\t\t\t\t\t\t\t  if(!this.speakValue) {\r\n\t\t\t\t\t\t\t  \tthis.speakValue = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t\t  \tthis.interact = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t  this.videoContext.stop() \r\n\t\t\t\t\t\t\t  this.videoContext_no.play() //静默视频播放\r\n\t\t\t\t\t\t\t  this.noSpekLoad = true\r\n\t\t\t\t\t\t\t  this.isPlay = true\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t//关闭视频\r\n\t\t\t\t\tif(this.current >= this.voiceValue.length) {\r\n\t\t\t\t\t\t// console.log('视频关闭')\r\n\t\t\t\t\t\tthis.speakValue = this.infoSpeak.model_greetings\r\n\t\t\t\t\t\tif(!this.speakValue) {\r\n\t\t\t\t\t\t\tthis.speakValue = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t\tthis.interact = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.videoContext.stop() \r\n\t\t\t\t\t\tthis.videoContext_no.play() //静默视频播放\r\n\t\t\t\t\t\tthis.noSpekLoad = true\r\n\t\t\t\t\t\tthis.isPlay = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.innerAudioContext.onStop((res) => {\r\n\t\t\t\t  console.log('出错了111');\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tchangeSpeak() {\r\n\t\t\t\t\r\n\t\t\t\tuni.authorize({\r\n\t\t\t\t\tscope: 'scope.record',\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '请在小程序设置中启用麦克风权限'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('开启成功')\r\n\t\t\t\t\t\tthis.chatChange = 'audio'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlongpressBtn(val) {\r\n\t\t\t\tthis.readyGO()\r\n\t\t\t\tthis.top_tip = val\r\n\t\t\t\tthis.tipShow = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttouchendBtn() {\r\n\t\t\t\t// console.log('执行了')\r\n\t\t\t\tthis.endRecord()\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.tipShow = false\r\n\t\t\t\t\tthis.stopSpeak()\r\n\t\t\t\t}, 2000);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tasync readyGO() {\r\n\t\t\t\t//开始录音\r\n\t\t\t\tthis.startRecord()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tstartRecord: async function() {\r\n\t\t\t\r\n\t\t\t\tif (!this.st) {\r\n\t\t\t\t\tconsole.log(\"st is null\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif (this.stStart) {\r\n\t\t\t\t\tconsole.log(\"st is started!\")\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet st = this.st\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait st.start(st.defaultStartParams())\r\n\t\t\t\t\tthis.stStart = true\r\n\t\t\t\t\tthis.stResult = ''\r\n\t\t\t\r\n\t\t\t\t\tconsole.log('录音开始')\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"start failed:\" + e)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\twx.getRecorderManager().start({\r\n\t\t\t\t\tduration: 600000,\r\n\t\t\t\t\tnumberOfChannels: 1,\r\n\t\t\t\t\tsampleRate: 16000,\r\n\t\t\t\t\tformat: \"PCM\",\r\n\t\t\t\t\tframeSize: 4\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 时间到后继续录音\r\n\t\t\tcontinueRecord: async function() {\r\n\t\t\t\r\n\t\t\t\tlet st = this.st\r\n\t\t\t\tlet that = this;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait st.start(st.defaultStartParams())\r\n\t\t\t\t\tconsole.log('录音继续')\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(\"start failed:\" + e)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\twx.getRecorderManager().start({\r\n\t\t\t\t\tduration: 600000,\r\n\t\t\t\t\tnumberOfChannels: 1,\r\n\t\t\t\t\tsampleRate: 16000,\r\n\t\t\t\t\tformat: \"PCM\",\r\n\t\t\t\t\tframeSize: 4\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tstopSpeak() {\r\n\t\t\t\tthis.chatInputValue = this.stResult\r\n\t\t\t\tthis.sendMessage()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 结束录音\r\n\t\t\tendRecord: async function() {\r\n\t\t\t\r\n\t\t\t\twx.getRecorderManager().stop()\r\n\t\t\t\tthis.stStart = false\r\n\t\t\t\tawait sleep(500)\r\n\t\t\t\tif (this.stStart && this.st) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconsole.log(\"prepare close st\")\r\n\t\t\t\t\t\tawait this.st.close()\r\n\t\t\t\r\n\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\tconsole.log(\"close st failed:\" + e)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取token\r\n\t\t\tasync getToken() {\r\n\t\t\t\tconsole.log('获取录音token')\r\n\t\t\t\tawait getToken().then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.rec_token = res.data.token\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('获取token失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetInteract() {\r\n\t\t\t    let val = {\r\n\t\t\t    \t'model_id': this.infoSpeak.model_id,\r\n\t\t\t    \t'question': '',\r\n\t\t\t    \t'is_click': 1\r\n\t\t\t    }\r\n\t\t\t\tgetInteract(val).then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.click_count++\r\n\t\t\t\t\t\tif(this.click_count == 1 && this.infoSpeak.share_desc) {\r\n\t\t\t\t\t\t\tthis.interact = this.infoSpeak.share_desc\r\n\t\t\t\t\t\t\tthis.speakValue = this.infoSpeak.share_desc\r\n\t\t\t\t\t\t} else if(this.click_count == 2 && this.infoSpeak.model_function) {\r\n\t\t\t\t\t\t\tthis.interact = this.infoSpeak.model_function\r\n\t\t\t\t\t\t\tthis.speakValue = this.infoSpeak.model_function\r\n\t\t\t\t\t\t\tthis.click_count = 0\r\n\t\t\t\t\t\t} else if(this.click_count == 0 && this.infoSpeak.model_greetings) {\r\n\t\t\t\t\t\t\tthis.interact = this.infoSpeak.model_greetings\r\n\t\t\t\t\t\t\tthis.speakValue = this.infoSpeak.model_function\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.speakValue = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t\tthis.interact = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this.interact) {\r\n\t\t\t\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t\t\t\t\tthis.voiceValue = []\r\n\t\t\t\t\t\t\tthis.current = 0\r\n\t\t\t\t\t\t\tthis.getRcordToken()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.innerAudioContext.play();\r\n\t\t\t\t\t\t\tthis.videoContext.play()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('获取失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tplay(url) {\r\n\t\t\t\tthis.innerAudioContext.src = url;\r\n\t\t\t\tthis.innerAudioContext.play();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//原生停止\r\n\t\t\tstop() {\r\n\t\t\t\tthis.innerAudioContext.stop();\r\n\t\t\t\t//关闭视频\r\n\t\t\t\tthis.videoContext.stop() //静默视频停止\r\n\t\t\t\tthis.videoContext_no.play() //静默视频停止\r\n\t\t\t\tthis.noSpekLoad = true\r\n\t\t\t},\r\n\t\t\t// 获取token\r\n\t\t\tasync getRcordToken() {\r\n\t\t\t\tawait getToken().then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.token = res.data.token\r\n\t\t\t\t\t\tthis.speakSocket()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('获取token失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tspeakSocket(){\r\n\t\t\t    //创建webSocket\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// console.log(this.token,3333)\r\n\t\t\t    that.webSocketTask = uni.connectSocket({\r\n\t\t\t        url: 'wss://ai.umi6.com:28083/ws/ali/text_to_speech?token='+ this.token +'&long_tts=1&enable_ptts=1',\r\n\t\t\t\t\t// url: 'ws://192.168.31.165:8080/ws/ali/text_to_speech?token='+ this.token +'&long_tts=1&enable_ptts=1',\r\n\t\t\t        header: {\r\n\t\t\t            'content-type': 'application/json'\r\n\t\t\t        },\r\n\t\t\t        success(res) {\r\n\t\t\t            console.log('成功', res);\r\n\t\t\t        },\r\n\t\t\t    })\r\n\t\t\t    // 监听WebSocket连接打开事件\r\n\t\t\t    that.webSocketTask.onOpen((res) => {\r\n\t\t\t        console.log(\"监听WebSocket连接打开事件\", res)\r\n\t\t\t\t\t// console.log(that.infoSpeak, 5548)\r\n\t\t\t\t\tif(that.interact != '') {\r\n\t\t\t\t\t\tthat.text_val = that.interact\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.text_val = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.webSocketTask.send({\r\n\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\"text\": that.text_val,\r\n\t\t\t\t\t\t\t\"voice\": that.infoSpeak.audio_code,\r\n\t\t\t\t\t\t\t\"action_type\": \"send\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.webSocketTask.send({\r\n\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\"action_type\": \"stop\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\t\t\t    });\r\n\t\t\t    // 监听WebSocket错误\r\n\t\t\t    uni.onSocketError((res) => {\r\n\t\t\t        console.info(\"监听WebSocket错误\" + res)\r\n\t\t\t    });\r\n\t\t\t\t\r\n\t\t\t\t// 接收websocket消息及处理\r\n\t\t\t\tthat.webSocketTask.onMessage((res) => {\r\n\t\t\t\t\tconsole.log(res, 777)\r\n\t\t\t\t\tlet type = typeof(res.data);\r\n\t\t\t\t\tif(type == 'string') {\r\n\t\t\t\t\t\tlet info = JSON.parse(res.data);\r\n\t\t\t\t\t\tif(info) {\r\n\t\t\t\t\t\t\tlet url = info.data;\r\n\t\t\t\t\t\t\tthis.voice_url = global.baseImg + '/' + url\r\n\t\t\t\t\t\t\tconsole.log(this.voice_url,5589)\r\n\t\t\t\t\t\t\tthat.webSocketTask.close()\r\n\t\t\t\t\t\t\tthat.webSocketTask.onClose(function (res) {\r\n\t\t\t\t\t\t\t  console.log('WebSocket 已关闭！');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//互动执行\r\n\t\t\t\t\t\t\tif(this.is_click) {\r\n\t\t\t\t\t\t\t\tthis.videoContext.play()\r\n\t\t\t\t\t\t\t\tthis.play(this.voice_url)\r\n\t\t\t\t\t\t\t\tthis.is_click = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取列表\r\n\t\t\tgetModelList() {\r\n\t\t\t    let userInfo = JSON.parse(uni.getStorageSync('userInfo'));\r\n\t\t\t\tlet that = this\r\n\t\t\t    let val = ''\r\n\t\t\t    if(this.temp_id != '') {\r\n\t\t\t    \tval = {\r\n\t\t\t    \t\t'user_id': userInfo.user_id,\r\n\t\t\t    \t\t'model_id': this.temp_id,\r\n\t\t\t    \t\t'is_visitor': 1,\r\n\t\t\t    \t\t'get_default': 0\r\n\t\t\t    \t}\r\n\t\t\t    } else {\r\n\t\t\t    \tval = {\r\n\t\t\t    \t\t'user_id': userInfo.user_id,\r\n\t\t\t    \t\t'is_visitor': 0,\r\n\t\t\t    \t\t'get_default': 1\r\n\t\t\t    \t}\r\n\t\t\t    }\r\n\t\t\t\tgetModelList(val).then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tif(res.data.length > 0) {\r\n\t\t\t\t\t\t\tthis.infoSpeak = res.data[0]\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(this.infoSpeak.model_greetings == '') {\r\n\t\t\t\t\t\t\t\tthis.speakValue = '你好我是数字分身，有什么问题可以向我提问'\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.speakValue = this.infoSpeak.model_greetings\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthat.videoContext_no.play()\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t// console.log(this.infoSpeak,8547)\r\n\t\t\t\t\t\t\t// this.getRcordToken()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('获取失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tplaySpeak() {\r\n\t\t\t\tthis.getInteract()\r\n\t\t\t\tthis.videoContext_no.stop()\r\n\t\t\t\t// this.videoContext.play() //第一段视频开始播放\r\n\t\t\t\tthis.ySpeakLoad = true\r\n\t\t\t\tthis.is_click = true\r\n\t\t\t\t// console.log('播放第一段视频111')\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoSpeakN() {\r\n\t\t\t\tif(this.noSpekLoad) {\r\n\t\t\t\t\t// console.log('播放第一段视频2222')\r\n\t\t\t\t\tthis.noSpekLoad = false\r\n\t\t\t\t\tthis.img_index = 8;\r\n\t\t\t\t\tthis.no_index = 9;\r\n\t\t\t\t\tthis.y_index = 7;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tspeakOne() {\r\n\t\t\t\tif(this.isPlay) {\r\n\t\t\t\t\tthis.getInteract()\r\n\t\t\t\t\tthis.innerAudioContext.pause(); //点击关闭音频\r\n\t\t\t\t\tthis.videoContext.pause() // 点击暂停音频\r\n\t\t\t\t\tthis.is_click = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoSpeakY() {\r\n\t\t\t\t// console.log(this.ySpeakLoad,'播放中')\r\n\t\t\t\t\r\n\t\t\t\tif(this.ySpeakLoad) {\r\n\t\t\t\t\t// console.log('播放第2段视频')\r\n\t\t\t\t\tthis.ySpeakLoad = false\r\n\t\t\t\t\tthis.img_index = 8;\r\n\t\t\t\t\tthis.no_index = 7;\r\n\t\t\t\t\tthis.y_index = 9;\r\n\t\t\t\t\tthis.play(this.voice_url)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 跳转数字分身页面\r\n\t\t\ttoDigital(index) {\r\n\t\t\t\tif (index == 0) {\r\n\t\t\t\t\t// 我的分身\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/childCont/digital/my'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (index == 1) {\r\n\t\t\t\t\t//编辑数字人形象\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/childCont/digital/edit_digital?info='+ JSON.stringify(this.infoSpeak)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (index == 2) {\r\n\t\t\t\t\t// 数字人分享\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/childCont/digital/share_digital?model_img='+ this.infoSpeak.out_video_cover +'&model_id='+ this.infoSpeak.model_id+'&greet='+this.infoSpeak.share_desc\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 数字人记录\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/childCont/digital/history_digital?model_id='+ this.infoSpeak.model_id\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\tkeyboardheightchange(e) {\r\n\t\t\t\t// console.log(e, '键盘高度变化');\r\n\t\t\t\tif (e.detail.height == 0) {\r\n\t\t\t\r\n\t\t\t\t\t// console.log(e);\r\n\t\t\t\t\t// uni.showTabBar({\r\n\t\t\t\t\t// \t// animation: true\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tthis.Height = 0\r\n\t\t\t\t\tthis.isBtn = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.isBtn = true\r\n\t\t\t\t\tthis.Height = e.detail.height\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tinputBlur(e) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.Height = 0\r\n\t\t\t\t})\r\n\t\t\t\tuni.setStorageSync('talkInfo', '')\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\tinputFocus(e) {\r\n\t\t\t\t// console.log(e, 5879)\r\n\t\t\t\tif (this.isBtn) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.Height = e.detail.height\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.Height = 0\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//点击留言\r\n\t\t\tmessage(){\r\n\t\t\t\tthis.messageShow = true;\r\n\t\t\t\t// console.log(this.messageShow)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetImgUrl(url) {\r\n\t\t\t\treturn global.baseImg + '/' + url;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//发送消息\r\n\t\t\tsendMessage() {\r\n\t\t\t\tif (this.chatInputValue.trim() == '') return this.$api.msg('请输入您要发送的内容')\r\n\t\t\t\tthis.getsendToken()\r\n\t\t\t\r\n\t\t\t\t// const hide_cont = '(回答内容中不能出现：chatgpt、gpt、openai、Generative Pre-trained Transformer等文字)';\r\n\t\t\t\tlet chat_cont = this.chatInputValue\r\n\t\t\t\t\r\n\t\t\t\tlet cont = {\r\n\t\t\t\t\t'model_id': this.infoSpeak.model_id,\r\n\t\t\t\t\t'question': chat_cont,\r\n\t\t\t\t\t'is_click': 0\r\n\t\t\t\t}\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '思考中'\r\n\t\t\t\t});\r\n\t\t\t\tgetInteract(cont).then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.prompt = res.data.context\r\n\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\tchat_type: this.chat_type,\r\n\t\t\t\t\t\t\t// action_type: '3',\r\n\t\t\t\t\t\t\tsession_code: this.session_code,\r\n\t\t\t\t\t\t\tchat_group_code: \"\",\r\n\t\t\t\t\t\t\tcontent: chat_cont,\r\n\t\t\t\t\t\t\tstream_str: 1,\r\n\t\t\t\t\t\t\tis_decode: 1,\r\n\t\t\t\t\t\t\tmsg_list: [{\r\n\t\t\t\t\t\t\t\trole: 'user',\r\n\t\t\t\t\t\t\t\tcontent: chat_cont,\r\n\t\t\t\t\t\t\t\tcovert_content: this.prompt,\r\n\t\t\t\t\t\t\t\tagent_id: this.infoSpeak.model_id\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata.msg_list = JSON.stringify(data.msg_list)\r\n\t\t\t\t\t\tthis.creatChatFun(data, 'first')\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('获取失败');\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tthis.chatInputValue = ''\r\n\t\t\t\tthis.load_state = false\r\n\t\t\t\tthis.messageValue = ''\r\n\t\t\t\tthis.chatValue = []\r\n\t\t\t\tthis.voiceValue = []\r\n\t\t\t\tthis.current = 0 // 当前播放的音频索引\r\n\t\t\t\tthis.textIndex = 0\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t// 获取token\r\n\t\t\tgetsendToken() {\r\n\t\t\t\tgetToken().then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.token = res.data.token\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('获取token失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//对话发送\r\n\t\t\tsendSocket(){\r\n\t\t\t    //创建webSocket\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// console.log(this.token,3333)\r\n\t\t\t   that.webSendTask = uni.connectSocket({\r\n\t\t\t        url: 'wss://ai.umi6.com:28083/ws/ali/text_to_speech?token='+ this.token +'&long_tts=1&enable_ptts=1',\r\n\t\t\t\t\t// url: 'ws://192.168.31.165:8080/ws/ali/text_to_speech?token='+ this.token +'&long_tts=1&enable_ptts=1',\r\n\t\t\t        header: {\r\n\t\t\t            'content-type': 'application/json'\r\n\t\t\t        },\r\n\t\t\t        success(res) {\r\n\t\t\t            console.log('成功', res);\r\n\t\t\t        },\r\n\t\t\t    })\r\n\t\t\t    // 监听WebSocket连接打开事件\r\n\t\t\t   that.webSendTask.onOpen((res) => {\r\n\t\t\t        console.log(\"监听WebSocket连接打开事件\", res)\r\n\r\n\t\t\t    });\r\n\t\t\t    // 监听WebSocket错误\r\n\t\t\t    uni.onSocketError((res) => {\r\n\t\t\t        console.info(\"监听WebSocket错误\" + res)\r\n\t\t\t    });\r\n\t\t\t\t\r\n\t\t\t\t// 接收websocket消息及处理\r\n\t\t\t\tthat.webSendTask.onMessage((res) => {\r\n\t\t\t\t\tconsole.log(res, 7778)\r\n\t\t\t\t\tlet type = typeof(res.data);\r\n\t\t\t\t\tif(type == 'string') {\r\n\t\t\t\t\t\tlet info = JSON.parse(res.data);\r\n\t\t\t\t\t\tif(info) {\r\n\t\t\t\t\t\t\tlet url = info.data;\r\n\t\t\t\t\t\t\t let speak_url = global.baseImg + '/' + url\r\n\t\t\t\t\t\t\tconsole.log(speak_url,5589)\r\n\t\t\t\t\t\t\tthis.voiceValue.push(speak_url)\r\n\t\t\t\t\t\t\tif(this.voiceValue.length == 1) {\r\n\t\t\t\t\t\t\t\tthis.speakValue = this.chatValue[0]\r\n\t\t\t\t\t\t\t\tthis.innerAudioContext.src = this.voiceValue[0];\r\n\t\t\t\t\t\t\t\tthis.innerAudioContext.play();\r\n\t\t\t\t\t\t\t\tthis.videoContext_no.stop() //静默视频停止\r\n\t\t\t\t\t\t\t\tthis.img_index = 8;\r\n\t\t\t\t\t\t\t\tthis.no_index = 7;\r\n\t\t\t\t\t\t\t\tthis.y_index = 9;\r\n\t\t\t\t\t\t\t\tthis.ySpeakLoad = false;\r\n\t\t\t\t\t\t\t\tthis.videoContext.play() //第一段视频开始播放\r\n\t\t\t\t\t\t\t\t// console.log('开始播放666')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tlet that = this\r\n\t\t\t\t\t\t\tthat.webSendTask.close()\r\n\t\t\t\t\t\t\tthat.webSendTask.onClose(function (res) {\r\n\t\t\t\t\t\t\t  // console.log('WebSocket 已关闭！22');\r\n\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t  that.textIndex++\r\n\t\t\t\t\t\t\t  // console.log(that.textIndex, 1114)\r\n\t\t\t\t\t\t\t  // console.log(that.chatValue.length, 2224)\r\n\t\t\t\t\t\t\t  // setTimeout(() => {\r\n\t\t\t\t\t\t\t  \tif(that.textIndex < that.chatValue.length) {\r\n\t\t\t\t\t\t\t\t  that.sendSocket()\r\n\t\t\t\t\t\t\t\t  setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tthat.webSendTask.send({\r\n\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\"text\": that.chatValue[that.textIndex],\r\n\t\t\t\t\t\t\t\t\t\t\t\"voice\": that.infoSpeak.audio_code,\r\n\t\t\t\t\t\t\t\t\t\t\t\"action_type\": \"send\"\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthat.webSendTask.send({\r\n\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\"action_type\": \"stop\",\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t  }, 1000)\r\n\t\t\t\t\t\t\t  \t    \r\n\t\t\t\t\t\t\t  \t}\r\n\t\t\t\t\t\t\t  // }, 800)\r\n\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tbase64ToString(encodedString) {\r\n\t\t\t\t// console.log(encodedString, 'encodedString');\r\n\t\t\t\t// Convert the Base64 string to a Uint8Array\r\n\t\t\t\tvar decodedData = Uint8Array.from(this.atob(encodedString), c => c.charCodeAt(0));\r\n\t\t\t\r\n\t\t\t\t// Create a TextDecoder instance with the appropriate character encoding\r\n\t\t\t\tvar decoder = new TextEncoding.TextDecoder('utf8');\r\n\t\t\t\r\n\t\t\t\t// Decode the Uint8Array to a string\r\n\t\t\t\tvar decodedString = decoder.decode(decodedData);\r\n\t\t\t\r\n\t\t\t\t// console.log(decodedString, 'decodedStringdecodedString');\r\n\t\t\t\t// console.log(decodedString, 'decodedStringdecodedString');\r\n\t\t\t\treturn decodedString;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//解码\r\n\t\t\tatob(string) {\r\n\t\t\t\tstring = String(string).replace(/[\\t\\n\\f\\r ]+/g, \"\");\r\n\t\t\t\t// console.log('解码string',string);\r\n\t\t\t\tvar b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\t\t\t\tvar b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\r\n\t\t\t\tif (!b64re.test(string))\r\n\t\t\t\t\tthrow new TypeError(\r\n\t\t\t\t\t\t\"Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.\");\r\n\t\t\t\tstring += \"==\".slice(2 - (string.length & 3));\r\n\t\t\t\tvar bitmap, result = \"\",\r\n\t\t\t\t\tr1, r2, i = 0;\r\n\t\t\t\tfor (; i < string.length;) {\r\n\t\t\t\t\tbitmap = b64.indexOf(string.charAt(i++)) << 18 | b64.indexOf(string.charAt(i++)) << 12 |\r\n\t\t\t\t\t\t(r1 = b64.indexOf(string.charAt(i++))) << 6 | (r2 = b64.indexOf(string.charAt(i++)));\r\n\t\t\t\t\tresult += r1 === 64 ? String.fromCharCode(bitmap >> 16 & 255) :\r\n\t\t\t\t\t\tr2 === 64 ? String.fromCharCode(bitmap >> 16 & 255, bitmap >> 8 & 255) :\r\n\t\t\t\t\t\tString.fromCharCode(bitmap >> 16 & 255, bitmap >> 8 & 255, bitmap & 255);\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//信息回调方法\r\n\t\t\tcreatChatFun(data, state) {\r\n\t\t\t\r\n                \r\n\t\t\t\tconst userInfo = JSON.parse(uni.getStorageSync('userInfo'))\r\n\t\t\t\t// // console.log(userInfo,'userInfo');\r\n\t\t\t\t// data.model = this.chat_pro;\r\n\t\t\t\tdata.scenario_type = 'chat'\r\n\t\t\t\t// data.model = '360GPT_S2_V9';\r\n\t\t\t\tdata.model = 'chatglm_turbo'\r\n\t\t\t\tthis.requestTask_three = uni.request({\r\n\t\t\t\t\t// url: global.baseUrl + '/api/chat/new_chat_session',\r\n\t\t\t\t\turl: global.baseUrl + '/api/chat/async_chat_completion',\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'source': global.source,\r\n\t\t\t\t\t\t'Authorization': userInfo.token,\r\n\t\t\t\t\t\t'role': userInfo.role,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t// responseType: 'ArrayBuffer',\r\n\t\t\t\t\tenableChunked: true,\r\n\t\t\t\t\tsuccess: response => {\r\n\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t},\r\n\t\t\t\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err, 'err');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: (complete) => {\r\n\r\n\t\t\t\r\n\t\t\t\t\t\tif (complete.statusCode != 200 && JSON.stringify(complete\r\n\t\t\t\t\t\t\t\t.statusCode) != 'null') {\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t\t\t\t// 非手动停止才执行\r\n\t\t\t\t\t\t\tif (!this.stop_three) {\r\n\t\t\t\t\t\t\t\txfChat(data).then(res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code < 49999) {\r\n\t\t\t\t\t\t\t\t\t\tlet userInfo = JSON.parse(uni.getStorageSync('userInfo'));\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (res.code == 40013) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$api.msg('登录信息已过期，请重新登录')\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/login/login',\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t                                uni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t\t\t\t} else if (res.code > 49999) {\r\n\t\t\t\t\t\t\t\t\t\tthis.$api.msg('网络异常，请稍后重试')\r\n                                        uni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.$api.msg(res.msg)\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tconsole.log(err, 'err');\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\r\n\t\t\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tlet strArr = []\r\n\t\t\t\tlet info = ''\r\n\t\t\t\t// let integral = 0\r\n\t\t\t\t// let completion_tokens = 0\r\n\t\t\t\t// let prompt_tokens = 0\r\n\t\t\t\r\n\t\t\t\tthis.requestTask_three.onChunkReceived(response => {\r\n\t\t\t\t\tconst arrayBuffer = response.data;\r\n\t\t\t\t\tconst uint8Array = new Uint8Array(arrayBuffer);\r\n\t\t\t\t\tconst str = new TextEncoding.TextDecoder('utf8').decode(uint8Array);\r\n\t\t\t\t\tlet status = ''\r\n\t\t\t\t\tlet session_code = ''\r\n\t\t\t\t\tlet chat_group_code = ''\r\n\t\t\t\t\tlet arr = str.match(/\\{(.+?)\\}/g)\r\n\t\t\t\t\tarr.map((item => {\r\n\t\t\t\t\t\t// console.log(JSON.parse(item), 'item');\r\n\t\t\t\t\t\tif (JSON.parse(item).content != 'null' && JSON.parse(item).content != null)\r\n\t\t\t\r\n\t\t\t\t\t\t\tinfo += this.base64ToString(JSON.parse(item).content)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (JSON.parse(item).finish_reason == 'stop') {\r\n\t\t\t\t\t\t\t\tconsole.log('结束了')\r\n\t\t\t\t\t\t\t\tthis.load_state = true\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.load_state = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet send_val = info.replace(this.messageValue, \"\")\r\n\t\t\t\t\t\t\tlet new_val = ''\r\n\t\t\t\t\t\t\tconst lastDotIndex = send_val.lastIndexOf(\"。\");\r\n\t\t\t\t\t\t\tif((send_val.length > 40 && lastDotIndex != -1) || this.load_state == true ) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(this.load_state) {\r\n\t\t\t\t\t\t\t\t\tnew_val = send_val\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnew_val = send_val.substring(0, lastDotIndex+1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.chatValue.push(new_val)\r\n\t\t\t\t\t\t\t\tif(this.chatValue.length == 1) {\r\n\t\t\t\t\t\t\t\t\tthis.sendSocket()\r\n\t\t\t\t\t\t\t\t\tthis.isPlay = false //问题回答开始不再支持点击互动\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(this.infoSpeak.audio_code,99999)\r\n\t\t\t\t\t\t\t\t\t\tthis.webSendTask.send({\r\n\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"text\": new_val,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"voice\": this.infoSpeak.audio_code,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"action_type\": \"send\"\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tthis.webSendTask.send({\r\n\t\t\t\t\t\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"action_type\": \"stop\",\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconsole.log(new_val,3333)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.messageValue = this.messageValue + new_val\r\n\t\t\t\t\t\t\t\t// console.log(this.messageValue,4444)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\t}))\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t// console.log(new_val,3333)\r\n\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tmessageSubmit() {\r\n\t\t\t\tif(this.messageValue == '') {\r\n\t\t\t\t\treturn this.$api.msg('请输入留言内容')\r\n\t\t\t\t}\r\n\t\t\t\tif(this.messagePhone == '') {\r\n\t\t\t\t\treturn this.$api.msg('请输入联系方式')\r\n\t\t\t\t}\r\n\t\t\t\tlet info = JSON.parse(uni.getStorageSync('userInfo'))\r\n\t\t\t\tlet val = {\r\n\t\t\t\t\t'model_id': this.infoSpeak.model_id,\r\n\t\t\t\t\t'user_id': info.user_id,\r\n\t\t\t\t\t'content': this.messageValue,\r\n\t\t\t\t\t'user_mobile': this.messagePhone\r\n\t\t\t\t}\r\n\t\t\t\tcreatMessage(val).then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.$api.msg('留言成功');\r\n\t\t\t\t\t\tthis.messageShow = false\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('留言失败');\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttoPhone(phone) {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: phone\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcheckInfo(tip) {\r\n\t\t\t\tthis.tipShow = true\r\n\t\t\t\tthis.top_tip = tip\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcopyWebsite(val) {\r\n\t\t\t\twx.setClipboardData({\r\n\t\t\t\t\tdata: val, //要被复制的内容\r\n\t\t\t\t\tsuccess: () => { //复制成功的回调函数\r\n\t\t\t\t\t\tuni.showToast({ //提示\r\n\t\t\t\t\t\t\ttitle: '复制成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t/deep/ .u-row{\r\n\t\talign-items: center ; \r\n\t}\r\n\t.message-box{\r\n\t\twidth: 400rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t\t.message-close{\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 30rpx;\r\n\t\t\ttop: 30rpx;\r\n\t\t}\r\n\t\t.message-title{\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.message-box{\r\n\t\t\twidth: 100%;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\t\t.message-content{\r\n\t\t\twidth: 100%;\r\n\t\t\t.phone_title{\r\n\t\t\t\tmargin: 20rpx 0rpx;\r\n\t\t\t}\r\n\t\t\t.message-submit{\r\n\t\t\t\twidth: 70%;\r\n\t\t\t\tpadding: 12rpx 0rpx;\r\n\t\t\t\tmargin-top: 35rpx;\r\n\t\t\t\tbackground: #1F64FF;\r\n\t\t\t\tcolor: #FFF;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.chat_audio{\r\n\t\twidth: 100%;\r\n\t\theight: 76rpx;\r\n\t\tmax-height: calc(180rpx - 32rpx);\r\n\t\tbackground-color: #1F64FF;\r\n\t\t// border: 1upx solid #999;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 6upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.chat_audio:active {\r\n\t\topacity: 0.5;\r\n\t}\r\n\t.chat_input {\r\n\t\tborder-radius: 6upx;\r\n\t\tborder: 1upx solid #E5E6EB;\r\n\t\tmax-height: calc(180rpx - 32rpx);\r\n\t\toverflow-y: auto;\r\n\t\t// padding: 10upx;\r\n\t\t.input_right {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tborder-radius: 6upx;\r\n\t\t\tborder: 1upx solid #E5E5E5;\r\n\t\t\tpadding-right: 20upx;\r\n\t\t\twidth: 148rpx;\r\n\t\t\tmargin: 0 0 10upx 10upx;\r\n\t\r\n\t\t\t.inputImg {\r\n\t\t\t\twidth: 90upx;\r\n\t\t\t\theight: 90upx;\r\n\t\t\t\tborder-radius: 6upx 0 0 6upx;\r\n\t\t\t}\r\n\t\r\n\t\t\t.input_text {\r\n\t\t\t\theight: 90upx;\r\n\t\t\t\twidth: 20upx;\r\n\t\t\t\tborder-left: 1upx solid #E5E5E5;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.main{\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tposition: relative;\r\n\t\t>image{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: calc(100% - 120rpx);\r\n\t\t}\r\n\t\t.top-nav{\r\n\t\t\t// padding: 20rpx 30rpx;\r\n\t\t\talign-items: center;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\t// background: rgba(0, 0, 0, 0.60);\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tposition:absolute;\r\n\t\t\tleft: 20rpx;\r\n\t\t\ttop: 20rpx;\r\n\t\t\tz-index: 10;\r\n\t\t\tdisplay: flex;\r\n\t\t\t>view{\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tbackground: rgba(0, 0, 0, 0.60);\r\n\t\t\t}\r\n\t\t\t>view{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\timage{\r\n\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translate(-50%);\r\n\t\t\t\t}\r\n\t\t\t\ttext{\r\n\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tline-height: 20px; /* 166.667% */\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.right-nav {\r\n\t\t\tposition: absolute;\r\n\t\t\tright: 18rpx;\r\n\t\t\ttop: 50%;\r\n\t\t\tz-index: 10;\r\n\t\t\ttransform: translate(0%, -50%);\r\n\t\t\r\n\t\t\t>view {\r\n\t\t\t\tmargin-bottom: 16.5rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\r\n\t\t\t\timage {\r\n\t\t\t\t\tposition: relative;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translate(-50%);\r\n\t\t\t\t\twidth: 54rpx;\r\n\t\t\t\t\theight: 54rpx;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tline-height: 20px;\r\n\t\t\t\t\t/* 166.667% */\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.bottom{\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 0px;\r\n\t\t\tleft: 50%;\r\n\t\t\tz-index: 10;\r\n\t\t\ttransform: translate(-50%);\r\n\t\t\t.bottom-tags{\r\n\t\t\t\twidth: calc(100% - 40rpx);\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t>view{\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\t\t\t\t.bottom-tags-title{\r\n\t\t\t\t\tdisplay:flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\tbackground: rgba(95, 95, 95, 0.40);\r\n\t\t\t\t\tpadding: 6rpx 16rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\timage{\r\n\t\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\t\twidth: 32rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttext{\r\n\t\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\tline-height: 20px; /* 166.667% */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.tag{\r\n\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\tborder: 1px solid #FFF;\r\n\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\tfont-size: 12px;\r\n\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\tline-height: 20px; /* 166.667% */\r\n\t\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t.bottom-tips{\r\n\t\t\t\twidth: calc(100% - 40rpx);\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\ttransform: translate(-50%);\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t\tbackground: rgba(0, 0, 0, 0.60);\r\n\t\t\t\tcolor: #FFF;\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tfont-style: normal;\r\n\t\t\t\tfont-weight: 400;\r\n\t\t\t\tline-height: 20px; /* 166.667% */\r\n\t\t\t\tpadding: 24rpx 20rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tmargin: 18rpx 0rpx;\r\n\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t.bottom-bottom{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tpadding: 25rpx 0rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t\toverflow-y: auto;\r\n\t\t\t\t.bottom-chat{\r\n\t\t\t\t\twidth: calc(100% - 4rpx);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tborder-radius: 8px;\r\n\t\t\t\t\tbackground: #FFF;\r\n\t\t\t\t\tpadding: 16rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t>view:first-child{\r\n\t\t\t\t\t\twidth: 76%;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t>view:last-child{\r\n\t\t\t\t\t\twidth: 20%;\r\n\t\t\t\t\t\tline-height: 56rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tborder-radius: 4px;\r\n\t\t\t\t\t\tbackground: #1F64FF;\r\n\t\t\t\t\t\tcolor: #FFF;\r\n\t\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\t\tfont-style: normal;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\tline-height: 20px; /* 142.857% */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n    .bottomInput {\r\n    \tposition: fixed;\r\n    \twidth:calc(100% - 16px);\r\n    \tbackground: #FFFFFF;\r\n    \tpadding: 8px;\r\n    \tbox-shadow: 0px -0.5px 0px rgba(0, 0, 0, 0.1);\r\n    }\r\n\t\r\n\t.video_w {\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\tposition: absolute;\r\n\t}\r\n</style>","import mod from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&id=86dae404&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./chat.vue?vue&type=style&index=0&id=86dae404&scoped=true&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1710208432917\n      var cssReload = require(\"F:/Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&scoped=true&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b237504c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&scoped=true&\"","var components\ntry {\n  components = {\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    height: \"48px\",\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"logo\">\r\n\t\t\t<img class=\"logo_img\" :src=\"loginImg\" alt=\"\">\r\n\r\n\t\t\t<text class=\"logo_text\">无忧秘书智脑为你提供有帮助的建议和见解</text>\r\n\r\n\t\t\t<view class=\"logo_btn\" @click=\"toLogin\">\r\n\r\n\t\t\t\t<!-- <text class=\"btn_text\" ></text> -->\r\n\t\t\t\t<u-button @getphonenumber=\"getphonenumber\" :open-type=\"getPhoneNumber\" color='#1F64FF' shape=\"circle\"\r\n\t\t\t\t\t:customStyle=\"{'height':'48px'}\">\r\n\t\t\t\t\t<!-- <img class=\"btn_img\" src=\"/static/images/wx.png\" alt=\"\"> -->\r\n\t\t\t\t\t快速登录</u-button>\r\n\t\t\t</view>\r\n\t\t<!-- \t<view class=\"phoneLogin\" @click=\"phoneLogin\">\r\n\t\t\t\t手机验证码登录\r\n\t\t\t</view> -->\r\n\r\n\t\t\t<view class=\"agree\">\r\n\t\t\t\t<view style=\"display: flex; align-items: center; justify-content: center;\">\r\n\t\t\t\t\t<checkbox-group @change=\"radioChange\">\r\n\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t<checkbox value=\"1\" style=\"transform:scale(0.8)\" />\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</checkbox-group>\r\n\r\n\t\t\t\t\t<text class=\"agree_text\">我已阅读并同意</text>\r\n\t\t\t\t\t<text class=\"agree_text_right\" @click=\"checkAgree\">《用户协议》</text>\r\n\t\t\t\t\t<text class=\"agree_text\">和</text>\r\n\t\t\t\t\t<text class=\"agree_text_right\" @click=\"checkSecret\">《隐私协议》</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\twxLogin,\r\n\t\twx_xcx_mobile\r\n\t} from '../../apis/chat.js'\r\n\timport {\r\n\t\tbatchTutor,\r\n\t\tcreatMe\r\n\t} from '@/apis/user.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tideaImg: global.baseImg + '/xcx/com/message_center/%E6%84%8F%E8%A7%81%E5%8F%8D%E9%A6%88.png',\r\n\t\t\t\tselectCheck: 0,\r\n\t\t\t\tgetPhoneNumber: '',\r\n\t\t\t\tloginImg: global.baseImg + '/xcx/com/message_center/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%96%B0logo2.png',\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonShow() {\r\n\r\n\t\t\tif (uni.getStorageSync('userInfo') == null || uni.getStorageSync('userInfo') == '') {\r\n\t\t\t\tconsole.log(999);\r\n\t\t\t\tthis.guessLogin()\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tphoneLogin() {\r\n\t\t\t\t// console.log('手机登录');\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/login/phoneLogin'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetphonenumber(e) {\r\n\t\t\t\tconsole.log(e.detail, '获取手机号码');\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (e.detail.errMsg == 'getPhoneNumber:ok') {\r\n\t\t\t\t\tconst userInfo = JSON.parse(uni.getStorageSync('userInfo'))\r\n\r\n\t\t\t\t\twx_xcx_mobile({\r\n\t\t\t\t\t\tcode: e.detail.code,\r\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\r\n\t\t\t\t\t\tiv: e.detail.iv\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t// console.log(res.data.phone_info.purePhoneNumber,'purePhoneNumber');\r\n\t\t\t\t\t\tlet query = uni.getStorageSync('loginCode');\r\n\t\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\t\tsuccess: function(loginRes) {\r\n\t\t\t\t\t\t\t\t// let code = loginRes.code;\r\n\t\t\t\t\t\t\t\t// that.wxLogin(code);\r\n\t\t\t\t\t\t\t\tlet val = {\r\n\t\t\t\t\t\t\t\t\t'code': loginRes.code,\r\n\t\t\t\t\t\t\t\t\t'user_code': userInfo.user_code,\r\n\t\t\t\t\t\t\t\t\t'mobile': res.data.phone_info.purePhoneNumber\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (query) {\r\n\t\t\t\t\t\t\t\t\tif (query.role == 'user') {\r\n\t\t\t\t\t\t\t\t\t\tval.parent_user_code = query.parent_user_code\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: '登录中...'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\twxLogin(val).then(res => {\r\n\t\t\t\t\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", JSON.stringify(res\r\n\t\t\t\t\t\t\t\t\t\t\t.data));\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('memberInfo', JSON.stringify(res.data));\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('loginCode', '')\r\n\t\t\t\t\t\t\t\t\t\tif (res.data.is_tutor == 1) { //是否已经绑定导师 1是0否\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({ // 返回上一页\r\n\t\t\t\t\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.creatMe(res.data.user_id, res.data.nick_name,\r\n\t\t\t\t\t\t\t\t\t\t\t\tres.data.avatar_url)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// uni.getUserInfo({\r\n\t\t\t\t\t\t\t\t\t\t// \tprovider: \"weixin\",\r\n\t\t\t\t\t\t\t\t\t\t// \tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t// \t\tconst userWeiXinAccInfo = res.userInfo;\r\n\t\t\t\t\t\t\t\t\t\t// \t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t\t\t\t\t// \tfail: err => {\r\n\t\t\t\t\t\t\t\t\t\t// \t\tconsole.log(\"获取用户信息失败\");\r\n\t\t\t\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t\t\t\t// })\r\n\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\t\tthat.$api.msg(res.msg)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\tthat.$api.msg('登录失败')\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoLogin() {\r\n\r\n\t\t\t\tif (this.selectCheck == 1) {\r\n\t\t\t\t\tlet that = this;\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$api.msg('请先阅读后并同意用户协议和隐私政策')\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tcreatMe(user_id, name, imgUrl) {\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t'user_id': user_id,\r\n\t\t\t\t\t'photo': imgUrl,\r\n\t\t\t\t\t'name': name,\r\n\t\t\t\t\t'greeting': '我是您的孪生数字人，遇事不决的时候，您可以问我，我会给您回答，供您参考，现在开始问我吧！'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcreatMe(data).then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tthis.batchTutor(user_id, res.data.me_id)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tthis.$api.msg('创建失败');\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//批量绑定导师\r\n\t\t\tbatchTutor(user_id, me_id) {\r\n\t\t\t\tbatchTutor({\r\n\t\t\t\t\tuser_id,\r\n\t\t\t\t\tme_id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 20000) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.navigateBack({ // 返回上一页\r\n\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tthis.$api.msg(res.msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tradioChange(evt) {\r\n\t\t\t\tthis.selectCheck = evt.detail.value[0]\r\n\t\t\t\t// console.log(evt);\r\n\t\t\t\tthis.selectCheck == 1 ? this.getPhoneNumber = 'getPhoneNumber' : this.getPhoneNumber = '1'\r\n\t\t\t},\r\n\r\n\t\t\t// 游客登录\r\n\t\t\tguessLogin() {\r\n\t\t\t\tlet headers = {\r\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t\t'source': 'xcx'\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet val = {\r\n\t\t\t\t\ttime: new Date().getTime()\r\n\t\t\t\t};\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: global.loginUrl + '/api/user/create_temp_user',\r\n\t\t\t\t\tdata: val,\r\n\t\t\t\t\theader: headers,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.data.code == 20000) {\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", JSON.stringify(res.data.data));\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"avatarUrl\", res.data.data.avatar_url);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('登录失败')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tcheckAgree() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/agree/agree?agree_type=4',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckSecret() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/agree/agree?agree_type=1',\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\ttoIdea() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/childPage/answer/answer'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang='scss' scoped>\r\n\t.container {\r\n\t\tbackground: #fff;\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\t/* padding: 100upx 60upx; */\r\n\t\tpadding-top: 100upx;\r\n\t}\r\n\r\n\t.phoneLogin {\r\n\t\tmargin-top: 20px;\r\n\t\tfont-family: 'PingFang SC';\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 20px;\r\n\t\t/* identical to box height, or 143% */\r\n\r\n\t\ttext-align: center;\r\n\r\n\t\tcolor: #333333;\r\n\t}\r\n\r\n\t.logo {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.logo_img {\r\n\t\twidth: 140upx;\r\n\t\theight: 140upx;\r\n\t}\r\n\r\n\t.logo_text {\r\n\t\tfont-family: 'PingFang SC';\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: 500;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 150%;\r\n\t\tcolor: #333;\r\n\t\tpadding: 40upx 0 100upx 0;\r\n\t}\r\n\r\n\t.logo_btn {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground: #51B13E;\r\n\t\tborder-radius: 48upx;\r\n\t\twidth: calc(100% - 80upx);\r\n\r\n\t\t.btn_img {\r\n\t\t\twidth: 58upx;\r\n\t\t\theight: 58upx;\r\n\t\t\tmargin-right: 13px;\r\n\t\t}\r\n\r\n\t\t.btn_text {\r\n\t\t\tfont-family: 'PingFang SC';\r\n\t\t\tfont-style: normal;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tfont-size: 32upx;\r\n\t\t\tline-height: 96upx;\r\n\t\t\tpadding-left: 20upx;\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\t}\r\n\r\n\t.agree {\r\n\t\t/* // text-align: center; */\r\n\r\n\t\t/* position: absolute;\r\n\t\tbottom:100upx;\r\n\t\tleft: 0;\r\n\t\tright: 0; */\r\n\t\tpadding-top: 30upx;\r\n\r\n\t\t.agree_text {\r\n\t\t\tfont-style: normal;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #222;\r\n\t\t}\r\n\r\n\t\t.agree_text_right {\r\n\t\t\tfont-family: 'PingFang SC';\r\n\t\t\tfont-style: normal;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #1F64FF;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=b237504c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1710208439972\n      var cssReload = require(\"F:/Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}