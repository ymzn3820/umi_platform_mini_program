{"version":3,"sources":["webpack:///F:/G/company/umi-git/childCont/components/ba-tree-picker/ba-tree-picker.vue?2497","webpack:///F:/G/company/umi-git/childCont/components/ba-tree-picker/ba-tree-picker.vue?474d","webpack:///F:/G/company/umi-git/childCont/components/ba-tree-picker/ba-tree-picker.vue?e9dc","webpack:///F:/G/company/umi-git/childCont/components/ba-tree-picker/ba-tree-picker.vue?512d","uni-app:///childCont/components/ba-tree-picker/ba-tree-picker.vue","webpack:///F:/G/company/umi-git/childCont/components/ba-tree-picker/ba-tree-picker.vue?53a8","webpack:///F:/G/company/umi-git/childCont/components/ba-tree-picker/ba-tree-picker.vue?38df"],"names":["emits","name","props","valueKey","type","default","textKey","childrenKey","localdata","localTreeList","selectedData","title","multiple","selectParent","confirmColor","cancelColor","titleColor","switchColor","border","data","showDialog","treeList","computed","methods","_show","_hide","_cancel","_confirm","selectedList","selectedNames","_formatTreeData","nextIndex","parentId","initCheckStatus","list","isLastLevel","id","level","isShow","isShowChild","checkStatus","orCheckStatus","children","childCount","childCheckCount","childCheckPCount","itemT","_onItemSwitch","console","item","_onItemChildSwitch","itemChild","_onItemSelect","_onItemChildSelect","index","_onItemParentSelect","itemParent","_reTreeList","_initTree","watch","mounted"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuI;AACvI;AACkE;AACL;AACqC;;;AAGlG;AAC4M;AAC5M,gBAAgB,gNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,qGAAM;AACR,EAAE,8GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwzB,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBCgE50B;EACAA;EACAC;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;QACA;MACA;IACA;IACAI;MAAA;MACAL;MACAC;QACA;MACA;IACA;IACAK;MACAN;MACAC;QACA;MACA;IACA;IACAM;MACAP;MACAC;IACA;IACAO;MAAA;MACAR;MACAC;IACA;IACAQ;MAAA;MACAT;MACAC;IACA;IACAS;MAAA;MACAV;MACAC;IACA;;IACAU;MAAA;MACAX;MACAC;IACA;;IACAW;MAAA;MACAZ;MACAC;IACA;;IACAY;MAAA;MACAb;MACAC;IACA;;IACAa;MAAA;MACAd;MACAC;IACA;EACA;EACAc;IACA;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;UAAA;;UAEAC;UACAC;QACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MACA;MACA;MACA;MACA;QACAC;QACAC;QACA;UAAA;UACAC;QACA,OACAA;MACA;MACAC;QACA;QACA;UACA;UACA;YACAC;UACA;QACA;QAEA;UACAC;UACAnC;UACAoC;UACAF;UACAG;UACAC;UACAC;UACAC;UACAT;UACAU;UACAC;UACAC;UACAC;QACA;QAEA;UACAC;UACAA;UACAA;UACA;QACA;QAEA;QACAf;MACA;MACA;IACA;IACA;IACAgB;MACAC;MACA;MACA;QACA;MACA;MACAC;MACA;QACAD;QACA;QACAC;MACA;QACAD;QACA;MACA;IACA;IACAE;MACA;MACA;MACA,yBACA;QACA;QACA;UACA;YACA;cACAC;cACA;gBACAA;cACA;YACA;UACA;YACAA;YACAA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QAAA;QACAH;QAEA;UACA;YACA;UACA;YACA;UACA;QACA;QACA;QACA;QACArB;QACAC;QACA;QACA;QACA;MACA;MACAmB;MACA;MACA;QACA;UACAC;UACAA;UACAA;UACA;QACA;QACA;UACAA;UACAA;UACAA;UACA;QACA;UACA;MAAA;MAEA;MACA;MACA;MACA;IACA;IACAI;MACA;MACA;MACA;QACAC;QACA;UACA;UACAH;UACA;YACAA;YACAA;UACA;YACAA;YACAA;UACA;UACA;UACA;UACAG;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;QAAA;MAAA;MACAP;MACA;QACA;QACA;QACA;QAEA;UACAQ;QACA;UACAA;QACA;QACA;UACAA;QACA;UACAA;QACA;QAEA;UACAA;UACAA;UACAA;QACA;UACAA;UACAA;UACAA;QACA;UACAA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACAC;IACAnD;MACA;IACA;IACAC;MACA;IACA;EACA;EACAmD;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;ACxXA;AAAA;AAAA;AAAA;AAAqrC,CAAgB,0nCAAG,EAAC,C;;;;;;;;;;;ACAzsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"childCont/components/ba-tree-picker/ba-tree-picker.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ba-tree-picker.vue?vue&type=template&id=b27edc36&scoped=true&\"\nvar renderjs\nimport script from \"./ba-tree-picker.vue?vue&type=script&lang=js&\"\nexport * from \"./ba-tree-picker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ba-tree-picker.vue?vue&type=style&index=0&id=b27edc36&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b27edc36\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"childCont/components/ba-tree-picker/ba-tree-picker.vue\"\nexport default component.exports","export * from \"-!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ba-tree-picker.vue?vue&type=template&id=b27edc36&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ba-tree-picker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ba-tree-picker.vue?vue&type=script&lang=js&\"","<!-- 树形层级选择器-->\r\n<!-- 1、支持单选、多选 -->\r\n<template>\r\n\t<view>\r\n\t\t<view class=\"tree-cover\" :class=\"{'show':showDialog}\" @tap=\"_cancel\"></view>\r\n\t\t<view class=\"tree-dialog\" :class=\"{'show':showDialog}\">\r\n\t\t\t<view class=\"tree-bar\">\r\n\t\t\t\t<view class=\"tree-bar-cancel\" :style=\"{'color':cancelColor}\" hover-class=\"hover-c\" @tap=\"_cancel\">取消\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tree-bar-title\" :style=\"{'color':titleColor}\">{{title}}</view>\r\n\t\t\t\t<view class=\"tree-bar-confirm\" :style=\"{'color':confirmColor}\" hover-class=\"hover-c\" @tap=\"_confirm\">\r\n\t\t\t\t\t{{multiple?'确定':''}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tree-view\">\r\n\t\t\t\t<scroll-view class=\"tree-list\" :scroll-y=\"true\">\r\n\t\t\t\t\t<block v-for=\"(item, index) in treeList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"tree-item\" :style=\"[{\r\n\t\t\t\t\t\t\tpaddingLeft: item.level*30 + 'rpx'\r\n\t\t\t\t\t\t}]\" :class=\"{\r\n\t\t\t\t\t\t\titemBorder: border === true,\r\n\t\t\t\t\t\t\tshow: item.isShow\r\n\t\t\t\t\t\t}\">\r\n\t\t\t\t\t\t\t<view class=\"item-label\">\r\n\t\t\t\t\t\t\t\t<view class=\"item-icon uni-inline-item\" @tap.stop=\"_onItemSwitch(item, index)\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"!item.isLastLevel&&item.isShowChild\" class=\"switch-on\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{'border-left-color':switchColor}\">\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"!item.isLastLevel&&!item.isShowChild\" class=\"switch-off\"\r\n\t\t\t\t\t\t\t\t\t\t:style=\"{'border-top-color':switchColor}\">\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else class=\"item-last-dot\" :style=\"{'border-top-color':switchColor}\">\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"uni-flex-item uni-inline-item\" @tap.stop=\"_onItemSelect(item, index)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"item-name\"> {{item.name+(item.childCount?\"(\"+item.childCount+\")\":'')}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"item-check\" v-if=\"selectParent?true:item.isLastLevel\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item-check-yes\" v-if=\"item.checkStatus==1\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{'radio':!multiple}\" :style=\"{'border-color':confirmColor}\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"item-check-yes-part\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{'background-color':confirmColor}\">\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item-check-yes\" v-else-if=\"item.checkStatus==2\"\r\n\t\t\t\t\t\t\t\t\t\t\t:class=\"{'radio':!multiple}\" :style=\"{'border-color':confirmColor}\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"item-check-yes-all\" :style=\"{'background-color':confirmColor}\">\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"item-check-no\" v-else :class=\"{'radio':!multiple}\"\r\n\t\t\t\t\t\t\t\t\t\t\t:style=\"{'border-color':confirmColor}\"></view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\temits: ['select-change'],\r\n\t\tname: \"ba-tree-picker\",\r\n\t\tprops: {\r\n\t\t\tvalueKey: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'id'\r\n\t\t\t},\r\n\t\t\ttextKey: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'name'\r\n\t\t\t},\r\n\t\t\tchildrenKey: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'children'\r\n\t\t\t},\r\n\t\t\tlocaldata: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlocalTreeList: { //在已经格式化好的数据\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselectedData: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function() {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tmultiple: { // 是否可以多选\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tselectParent: { //是否可以选父级\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\tconfirmColor: { // 确定按钮颜色\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '' // #0055ff\r\n\t\t\t},\r\n\t\t\tcancelColor: { // 取消按钮颜色\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '' // #757575\r\n\t\t\t},\r\n\t\t\ttitleColor: { // 标题颜色\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '' //\r\n\t\t\t},\r\n\t\t\tswitchColor: { // 节点切换图标颜色\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '' // #666\r\n\t\t\t},\r\n\t\t\tborder: { // 是否有分割线\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowDialog: false,\r\n\t\t\t\ttreeList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {},\r\n\t\tmethods: {\r\n\t\t\t_show() {\r\n\t\t\t\tthis.showDialog = true\r\n\t\t\t},\r\n\t\t\t_hide() {\r\n\t\t\t\tthis.showDialog = false\r\n\t\t\t},\r\n\t\t\t_cancel() {\r\n\t\t\t\tthis._hide()\r\n\t\t\t\tthis.$emit(\"cancel\", '');\r\n\t\t\t},\r\n\t\t\t_confirm() { //多选\r\n\t\t\t\tlet selectedList = [];\r\n\t\t\t\tlet selectedNames;\r\n\t\t\t\tthis.treeList.forEach((item, index) => {\r\n\t\t\t\t\tif (item.checkStatus === 2 && item.isLastLevel) { //判断条件改为\r\n\r\n\t\t\t\t\t\tselectedList.push(item.id);\r\n\t\t\t\t\t\tselectedNames = selectedNames ? selectedNames + ' / ' + item.name : item.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis._hide()\r\n\t\t\t\tthis.$emit(\"select-change\", selectedList, selectedNames);\r\n\t\t\t},\r\n\r\n\t\t\t//格式化原数据（原数据为tree结构）\r\n\t\t\t_formatTreeData(list = [], level = 0, parentItem, index, isShowChild = true) {\r\n\t\t\t\tlet nextIndex = 0;\r\n\t\t\t\tlet parentId = -1;\r\n\t\t\t\tlet initCheckStatus = 0;\r\n\t\t\t\tif (parentItem) {\r\n\t\t\t\t\tnextIndex = index + 1\r\n\t\t\t\t\tparentId = parentItem.id;\r\n\t\t\t\t\tif (!this.multiple) { //单选\r\n\t\t\t\t\t\tinitCheckStatus = 0;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tinitCheckStatus = parentItem.checkStatus == 2 ? 2 : 0;\r\n\t\t\t\t}\r\n\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\tlet isLastLevel = true;\r\n\t\t\t\t\tif (item && item[this.childrenKey]) {\r\n\t\t\t\t\t\tlet children = item[this.childrenKey];\r\n\t\t\t\t\t\tif (Array.isArray(children) && children.length > 0) {\r\n\t\t\t\t\t\t\tisLastLevel = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlet itemT = {\r\n\t\t\t\t\t\tid: item[this.valueKey],\r\n\t\t\t\t\t\tname: item[this.textKey],\r\n\t\t\t\t\t\tlevel,\r\n\t\t\t\t\t\tisLastLevel,\r\n\t\t\t\t\t\tisShow: isShowChild,\r\n\t\t\t\t\t\tisShowChild: false,\r\n\t\t\t\t\t\tcheckStatus: initCheckStatus,\r\n\t\t\t\t\t\torCheckStatus: 0,\r\n\t\t\t\t\t\tparentId,\r\n\t\t\t\t\t\tchildren: item[this.childrenKey],\r\n\t\t\t\t\t\tchildCount: item[this.childrenKey] ? item[this.childrenKey].length : 0,\r\n\t\t\t\t\t\tchildCheckCount: 0,\r\n\t\t\t\t\t\tchildCheckPCount: 0\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (this.selectedData.indexOf(itemT.id) >= 0) {\r\n\t\t\t\t\t\titemT.checkStatus = 2;\r\n\t\t\t\t\t\titemT.orCheckStatus = 2;\r\n\t\t\t\t\t\titemT.childCheckCount = itemT.children ? itemT.children.length : 0;\r\n\t\t\t\t\t\tthis._onItemParentSelect(itemT, nextIndex);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.treeList.splice(nextIndex, 0, itemT);\r\n\t\t\t\t\tnextIndex++;\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(this.treeList, 'treeList');\r\n\t\t\t},\r\n\t\t\t// 节点打开、关闭切换\r\n\t\t\t_onItemSwitch(item, index) {\r\n\t\t\t\tconsole.log(item, index, 1357)\r\n\t\t\t\t// console.log('_itemSwitch')\r\n\t\t\t\tif (item.isLastLevel === true) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\titem.isShowChild = !item.isShowChild;\r\n\t\t\t\tif (item.children) {\r\n\t\t\t\t\tconsole.log('进来了1');\r\n\t\t\t\t\tthis._formatTreeData(item.children, item.level + 1, item, index);\r\n\t\t\t\t\titem.children = undefined;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('进来了2');\r\n\t\t\t\t\tthis._onItemChildSwitch(item, index);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_onItemChildSwitch(item, index) {\r\n\t\t\t\t//console.log('_onItemChildSwitch')\r\n\t\t\t\tconst firstChildIndex = index + 1;\r\n\t\t\t\tif (firstChildIndex > 0)\r\n\t\t\t\t\tfor (var i = firstChildIndex; i < this.treeList.length; i++) {\r\n\t\t\t\t\t\tlet itemChild = this.treeList[i];\r\n\t\t\t\t\t\tif (itemChild.level > item.level) {\r\n\t\t\t\t\t\t\tif (item.isShowChild) {\r\n\t\t\t\t\t\t\t\tif (itemChild.parentId === item.id) {\r\n\t\t\t\t\t\t\t\t\titemChild.isShow = item.isShowChild;\r\n\t\t\t\t\t\t\t\t\tif (!itemChild.isShow) {\r\n\t\t\t\t\t\t\t\t\t\titemChild.isShowChild = false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\titemChild.isShow = item.isShowChild;\r\n\t\t\t\t\t\t\t\titemChild.isShowChild = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 节点选中、取消选中\r\n\t\t\t_onItemSelect(item, index) {\r\n\t\t\t\t//console.log('_onItemSelect')\r\n\t\t\t\t// console.log(item)\r\n\t\t\t\tif (!this.multiple) { //单选\r\n\t\t\t\t\titem.checkStatus = item.checkStatus == 0 ? 2 : 0;\r\n\r\n\t\t\t\t\tthis.treeList.forEach((v, i) => {\r\n\t\t\t\t\t\tif (i != index) {\r\n\t\t\t\t\t\t\tthis.treeList[i].checkStatus = 0\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.treeList[i].checkStatus = 2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet selectedList = [];\r\n\t\t\t\t\tlet selectedNames;\r\n\t\t\t\t\tselectedList.push(item.id);\r\n\t\t\t\t\tselectedNames = item.name;\r\n\t\t\t\t\t// this._hide()\r\n\t\t\t\t\tthis.$emit(\"select-change\", selectedList, selectedNames);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.treeList, 1614);\r\n\t\t\t\tlet oldCheckStatus = item.checkStatus;\r\n\t\t\t\tswitch (oldCheckStatus) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\titem.checkStatus = 2;\r\n\t\t\t\t\t\titem.childCheckCount = item.childCount;\r\n\t\t\t\t\t\titem.childCheckPCount = 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\titem.checkStatus = 0;\r\n\t\t\t\t\t\titem.childCheckCount = 0;\r\n\t\t\t\t\t\titem.childCheckPCount = 0;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t//子节点 全部选中\r\n\t\t\t\tthis._onItemChildSelect(item, index);\r\n\t\t\t\t//父节点 选中状态变化\r\n\t\t\t\tthis._onItemParentSelect(item, index, oldCheckStatus);\r\n\t\t\t},\r\n\t\t\t_onItemChildSelect(item, index) {\r\n\t\t\t\t//console.log('_onItemChildSelect')\r\n\t\t\t\tlet allChildCount = 0;\r\n\t\t\t\tif (item.childCount && item.childCount > 0) {\r\n\t\t\t\t\tindex++;\r\n\t\t\t\t\twhile (index < this.treeList.length && this.treeList[index].level > item.level) {\r\n\t\t\t\t\t\tlet itemChild = this.treeList[index];\r\n\t\t\t\t\t\titemChild.checkStatus = item.checkStatus;\r\n\t\t\t\t\t\tif (itemChild.checkStatus == 2) {\r\n\t\t\t\t\t\t\titemChild.childCheckCount = itemChild.childCount;\r\n\t\t\t\t\t\t\titemChild.childCheckPCount = 0;\r\n\t\t\t\t\t\t} else if (itemChild.checkStatus == 0) {\r\n\t\t\t\t\t\t\titemChild.childCheckCount = 0;\r\n\t\t\t\t\t\t\titemChild.childCheckPCount = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log('>>>>index：', index, 'item：', itemChild.name, '  status：', itemChild\r\n\t\t\t\t\t\t// \t.checkStatus)\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t_onItemParentSelect(item, index, oldCheckStatus) {\r\n\t\t\t\t// console.log('_onItemParentSelect')\r\n\t\t\t\t// console.log(item, 'fu')\r\n\t\t\t\tconst parentIndex = this.treeList.findIndex(itemP => itemP.id == item.parentId);\r\n\t\t\t\tconsole.log('parentIndex：' + parentIndex)\r\n\t\t\t\tif (parentIndex >= 0) {\r\n\t\t\t\t\tlet itemParent = this.treeList[parentIndex];\r\n\t\t\t\t\tlet count = itemParent.childCheckCount;\r\n\t\t\t\t\tlet oldCheckStatusParent = itemParent.checkStatus;\r\n\r\n\t\t\t\t\tif (oldCheckStatus == 1) {\r\n\t\t\t\t\t\titemParent.childCheckPCount -= 1;\r\n\t\t\t\t\t} else if (oldCheckStatus == 2) {\r\n\t\t\t\t\t\titemParent.childCheckCount -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (item.checkStatus == 1) {\r\n\t\t\t\t\t\titemParent.childCheckPCount += 1;\r\n\t\t\t\t\t} else if (item.checkStatus == 2) {\r\n\t\t\t\t\t\titemParent.childCheckCount += 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (itemParent.childCheckCount <= 0 && itemParent.childCheckPCount <= 0) {\r\n\t\t\t\t\t\titemParent.childCheckCount = 0;\r\n\t\t\t\t\t\titemParent.childCheckPCount = 0;\r\n\t\t\t\t\t\titemParent.checkStatus = 0;\r\n\t\t\t\t\t} else if (itemParent.childCheckCount >= itemParent.childCount) {\r\n\t\t\t\t\t\titemParent.childCheckCount = itemParent.childCount;\r\n\t\t\t\t\t\titemParent.childCheckPCount = 0;\r\n\t\t\t\t\t\titemParent.checkStatus = 2;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titemParent.checkStatus = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//console.log('itemParent：', itemParent)\r\n\t\t\t\t\tthis._onItemParentSelect(itemParent, parentIndex, oldCheckStatusParent);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 重置数据\r\n\t\t\t_reTreeList() {\r\n\t\t\t\tthis.treeList.forEach((v, i) => {\r\n\t\t\t\t\tthis.treeList[i].checkStatus = v.orCheckStatus\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t_initTree() {\r\n\t\t\t\tthis.treeList = [];\r\n\t\t\t\tthis._formatTreeData(this.localdata);\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tlocaldata() {\r\n\t\t\t\tthis._initTree();\r\n\t\t\t},\r\n\t\t\tlocalTreeList() {\r\n\t\t\t\tthis.treeList = this.localTreeList;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis._initTree();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.tree-cover {\r\n\t\tposition: fixed;\r\n\t\ttop: 0rpx;\r\n\t\tright: 0rpx;\r\n\t\tbottom: 0rpx;\r\n\t\tleft: 0rpx;\r\n\t\tz-index: 100;\r\n\t\tbackground-color: rgba(0, 0, 0, .4);\r\n\t\topacity: 0;\r\n\t\ttransition: all 0.3s ease;\r\n\t\tvisibility: hidden;\r\n\t}\r\n\r\n\t.tree-cover.show {\r\n\t\tvisibility: visible;\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.tree-dialog {\r\n\t\tposition: fixed;\r\n\t\ttop: 0rpx;\r\n\t\tright: 0rpx;\r\n\t\tbottom: 0rpx;\r\n\t\tleft: 0rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-top-left-radius: 10px;\r\n\t\tborder-top-right-radius: 10px;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: column;\r\n\t\tz-index: 9999;\r\n\t\ttop: 20%;\r\n\t\ttransition: all 0.3s ease;\r\n\t\ttransform: translateY(100%);\r\n\t}\r\n\r\n\t.tree-dialog.show {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\r\n\t.tree-bar {\r\n\t\t/* background-color: #fff; */\r\n\t\theight: 90rpx;\r\n\t\tpadding-left: 25rpx;\r\n\t\tpadding-right: 25rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-bottom-width: 1rpx !important;\r\n\t\tborder-bottom-style: solid;\r\n\t\tborder-bottom-color: #f5f5f5;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #757575;\r\n\t\tline-height: 1;\r\n\t}\r\n\r\n\t.tree-bar-confirm {\r\n\t\tcolor: #0055ff;\r\n\t\tpadding: 15rpx;\r\n\t}\r\n\r\n\t.tree-bar-title {}\r\n\r\n\t.tree-bar-cancel {\r\n\t\tcolor: #757575;\r\n\t\tpadding: 15rpx;\r\n\t}\r\n\r\n\t.tree-view {\r\n\t\tflex: 1;\r\n\t\tpadding: 20rpx;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\tflex-direction: column;\r\n\t\toverflow: hidden;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.tree-list {\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t\tpadding-bottom: 150rpx;\r\n\t}\r\n\r\n\t.tree-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tline-height: 1;\r\n\t\theight: 0;\r\n\t\topacity: 0;\r\n\t\ttransition: 0.2s;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.tree-item.show {\r\n\t\theight: 118rpx;\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.tree-item.showchild:before {\r\n\t\ttransform: rotate(90deg);\r\n\t}\r\n\r\n\t.tree-item.last:before {\r\n\t\topacity: 0;\r\n\t}\r\n\r\n\t.switch-on {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tborder-left: 10rpx solid transparent;\r\n\t\tborder-right: 10rpx solid transparent;\r\n\t\tborder-top: 15rpx solid #666;\r\n\t}\r\n\r\n\t.switch-off {\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tborder-bottom: 10rpx solid transparent;\r\n\t\tborder-top: 10rpx solid transparent;\r\n\t\tborder-left: 15rpx solid #666;\r\n\t}\r\n\r\n\t.item-last-dot {\r\n\t\tposition: absolute;\r\n\t\twidth: 10rpx;\r\n\t\theight: 10rpx;\r\n\t\tborder-radius: 100%;\r\n\t\tbackground: #666;\r\n\t}\r\n\r\n\t.item-icon {\r\n\t\twidth: 26rpx;\r\n\t\theight: 26rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t\tpadding-right: 20rpx;\r\n\t\tpadding-left: 20rpx;\r\n\t}\r\n\r\n\t.item-label {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 100%;\r\n\t\tline-height: 1.2;\r\n\t}\r\n\r\n\t.item-name {\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\twidth: 450rpx;\r\n\t}\r\n\r\n\t.item-check {\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.item-check-yes,\r\n\t.item-check-no {\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tborder-top-left-radius: 20%;\r\n\t\tborder-top-right-radius: 20%;\r\n\t\tborder-bottom-right-radius: 20%;\r\n\t\tborder-bottom-left-radius: 20%;\r\n\t\tborder-top-width: 1rpx;\r\n\t\tborder-left-width: 1rpx;\r\n\t\tborder-bottom-width: 1rpx;\r\n\t\tborder-right-width: 1rpx;\r\n\t\tborder-style: solid;\r\n\t\tborder-color: #0055ff;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.item-check-yes-part {\r\n\t\twidth: 12px;\r\n\t\theight: 12px;\r\n\t\tborder-top-left-radius: 20%;\r\n\t\tborder-top-right-radius: 20%;\r\n\t\tborder-bottom-right-radius: 20%;\r\n\t\tborder-bottom-left-radius: 20%;\r\n\t\tbackground-color: #0055ff;\r\n\t}\r\n\r\n\t.item-check-yes-all {\r\n\t\tmargin-bottom: 5px;\r\n\t\tborder: 2px solid #007aff;\r\n\t\tborder-left: 0;\r\n\t\tborder-top: 0;\r\n\t\theight: 12px;\r\n\t\twidth: 6px;\r\n\t\ttransform-origin: center;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\ttransition: all 0.3s;\r\n\t\t/* #endif */\r\n\t\ttransform: rotate(45deg);\r\n\t}\r\n\r\n\t.item-check .radio {\r\n\t\tborder-top-left-radius: 50%;\r\n\t\tborder-top-right-radius: 50%;\r\n\t\tborder-bottom-right-radius: 50%;\r\n\t\tborder-bottom-left-radius: 50%;\r\n\t}\r\n\r\n\t.item-check .radio .item-check-yes-b {\r\n\t\tborder-top-left-radius: 50%;\r\n\t\tborder-top-right-radius: 50%;\r\n\t\tborder-bottom-right-radius: 50%;\r\n\t\tborder-bottom-left-radius: 50%;\r\n\t}\r\n\r\n\t.hover-c {\r\n\t\topacity: 0.6;\r\n\t}\r\n\r\n\t.itemBorder {\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t}\r\n</style>","import mod from \"-!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ba-tree-picker.vue?vue&type=style&index=0&id=b27edc36&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ba-tree-picker.vue?vue&type=style&index=0&id=b27edc36&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1710208421896\n      var cssReload = require(\"F:/Ksoftware/HBuilderX.3.7.9.20230324/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}